\documentclass[12pt,letterpaper]{report}

\input{pmath347_preamble}

%---------------
\begin{document}
%--------------

%%%%% Title
\title{
  \Huge
  \textbf{PMATH 347: Groups and Rings} \\[\baselineskip]
  \large
  University of Waterloo \\
  William Slofstra \\
  Spring 2021
}
\author{Marco Yang}
\date{Last updated: \today}

{
  \sffamily
  \maketitle
}
\thispagestyle{empty}

%%%%% Table of contents
\pagebreak
\pagenumbering{roman}
\setcounter{page}{2}

{
  \sffamily
  \tableofcontents{\markboth{\contentsname}{}}
}

%%%%% Lectures
\pagebreak
\pagenumbering{arabic}

\week{Groups}

%%%%% Lec 1
\section{Binary operations and definition of a group}

\subsection{Binary operations}

\begin{defn}{binary operation}{binop}
  A \hldef{binary operation} on a set $X$ is a function $b \colon X \times X \to X$.
\end{defn}

Notation:
\begin{itemize}
  \item
  We can use any letter ($b$, $m$) or symbol ($+$, $\cdot$).
  \item
  We can use function notation (typically for symbols)
  \[ b \colon X \times X \to X : (x, y) \mapsto b(x, y) \]
  or inline notation (typically for letters)
  \[ + \colon \mathbb{N} \times \mathbb{N} \to \mathbb{N} : (x, y) \mapsto x + y. \]
  \item
  Some symbols: $a + b$, $a \times b$, $a \cdot b$, $a \circ b$, $a \oplus b$, $a \otimes b$,
  $a \odot b$, $a \diamond b$, $a * b$, $a \bullet b$, $a \boxplus b$, $a \boxtimes b$.
  \item
  If not ambiguous, can drop the symbol:
  \[ X \times X \to X : (a, b) \mapsto ab. \]
\end{itemize}

\begin{ex}
  \begin{itemize}
    \item
    Addition $+$ is a binary operation on $\mathbb{N}$, but subtraction $-$ is not since $a - b$ is
    not necessarily in $\mathbb{N}$.
    \item
    Subtraction is a binary operation on $\mathbb{Z}$, \emph{i.e.}, it defines a function
    $- \colon \mathbb{Z} \times \mathbb{Z} \to \mathbb{Z}$.
    \item
    If $(V, +, \cdot)$ is a vector space over a field $\mathbb{K}$, then $+$ is a binary operation
    on $V$, but $\cdot$ is not since $\cdot$ is a function $\mathbb{K} \times V \to V$.
  \end{itemize}
\end{ex}

\begin{defn}{$k$-ary operation}{karyop}
  A \hldef{$k$-ary operation} on a set $X$ is a function
  \[
    \underbrace{X \times X \times \cdots \times X}_{k \text{ times}} \to X.
  \]
  A $1$-ary operation is called a \hldef{unary operation}.
\end{defn}

\begin{ex}
  \begin{itemize}
    \item
    Negation $\mathbb{Z} \to \mathbb{Z} : x \mapsto -x$ is a unary operation.
    \item
    Taking the multiplicative inverse $x \mapsto 1/x$ is not a unary operation on $\mathbb{Q}$,
    since $1/0$ is not defined, but it is a unary operation on
    \[ \mathbb{Q}^\times := \{ a \in \mathbb{Q} : a \neq 0 \}. \]
  \end{itemize}
\end{ex}

\pagebreak
\subsection{Associative operations}

\begin{defn}{associative}{associative}
  A binary operation $\boxtimes \colon X \times X \to X$ is \hldef{associative} if
  \[
    a \boxtimes (b \boxtimes c) = (a \boxtimes b) \boxtimes c
  \]
  for all $a, b, c \in X$.
\end{defn}

Many operations mentioned so far are associative:
\begin{itemize}
  \item
  Addition and multiplication for $\mathbb{N}$, $\mathbb{Z}$, $\mathbb{Q}$, $\mathbb{R}$,
  $\mathbb{C}$, polynomials, and functions;
  \item
  Vector addition, matrix addition and multiplication;
  \item
  Modular addition and multiplication on $\Zmod{n}$;
  \item
  Function composition (homework).
\end{itemize}

Subtraction and division are not associative:
\[
  10 - (5 - 1) = 6 \neq 4 = (10 - 5) - 1.
\]
Subtraction is adding negative numbers; similarly for division.
So we aren't as interested in subtraction and division, thus we can focus on associative operations.

A \hldef{bracketing} of a sequence $a_1, \ldots, a_n \in X$ is a way of inserting brackets into
$a_1 \boxtimes \cdots \boxtimes a_n$ so that the expression can be evaluated (with binary steps).

\begin{ex}
  Bracketings of $a_1, \ldots, a_4$ are:
  \begin{itemize}
    \item $a_1 \boxtimes (a_2 \boxtimes (a_3 \boxtimes a_4))$
    \item $a_1 \boxtimes ((a_2 \boxtimes a_3) \boxtimes a_4)$
    \item $(a_1 \boxtimes a_2) \boxtimes (a_3 \boxtimes a_4)$
    \item $(a_1 \boxtimes (a_2 \boxtimes a_3)) \boxtimes a_4$
    \item $((a_1 \boxtimes a_2) \boxtimes a_3) \boxtimes a_4$
  \end{itemize}
\end{ex}

\begin{prop}{}{}
  A binary operation $\boxtimes \colon X \times X \to X$ is associative if and only if for all
  finite sequences $a_1, \ldots, a_n \in X$ with $n \geq 1$, every bracketing of $a_1, \ldots, a_n$
  evaluates to the same element of $X$.
\end{prop}

Meaning if $\boxtimes$ is associative, then the notation $a_1 \boxtimes \cdots \boxtimes a_n$ is
unambiguous.

\begin{thmproof}
  \begin{itemize}[leftmargin=4em]
    \item[($\impliedby$)]
    The two bracketings $a \boxtimes (b \boxtimes c)$ and $(a \boxtimes b) \boxtimes c$ of $a, b, c$
    evaluate to the same element of $X$ for all sequences of length 3.
    So $\boxtimes$ is associative by definition.

    \item[($\implies$)]
    By induction.
    Base cases are $n = 1, 2, 3$.
    For $n = 1, 2$, there is only one bracketing.
    For $n = 3$, follows from the definition of associativity.

    Suppose the proposition is true for all sequences of length $1 \leq k < n$.

    Let $w$ be a bracketing of $a_1, \ldots, a_n$.
    Then $w = w_1 \boxtimes w_2$ where $w_1$ is a bracketing of $a_1, \ldots, a_k$ and $w_2$ is a
    bracketing of $a_{k + 1}, \ldots, a_n$ for some $k < n$.
    By induction,
    \begin{align*}
      w_1 &= (\cdots ((a_1 \boxtimes a_2) \boxtimes a_3) \cdots \boxtimes a_k) \\
      w_2 &= (a_{k + 1} \boxtimes \cdots (a_{n - 2} \boxtimes (a_{n - 1} \boxtimes a_n)) \cdots)
    \end{align*}
    So by repeatedly applying associativity,
    \begin{align*}
      w
      &= (\cdots ((a_1 \boxtimes a_2) \boxtimes a_3) \cdots \boxtimes a_k) \boxtimes
        (a_{k + 1} \boxtimes \cdots (a_{n - 1} \boxtimes a_n) \cdots) \\
      &= (\cdots (a_1 \boxtimes a_2) \cdots \boxtimes a_{k - 1}) \boxtimes
        (a_k \boxtimes (a_{k + 1} \boxtimes \cdots \boxtimes a_n) \cdots) \\
      &= \ldots \\
      &= (a_1 \boxtimes (a_2 \boxtimes \cdots (a_{n - 1} \boxtimes a_n)) \cdots)
    \end{align*}
  \end{itemize}
\end{thmproof}

\pagebreak
\subsection{Commutative (abelian) operations}

\begin{defn}{commutative (abelian)}{abelian}
  A binary operation $\boxtimes \colon X \times X \to X$ is \hldef{commutative} or \hldef{abelian}
  if $a \boxtimes b = b \boxtimes a$ for all $a, b \in X$.
\end{defn}

Many familiar operations are commutative:
\begin{itemize}
  \item
  Addition and multiplication on $\mathbb{N}$, $\mathbb{Z}$, $\mathbb{Q}$, $\mathbb{R}$,
  $\mathbb{C}$
  \item
  Vector and matrix addition
  \item
  Modular addition and multiplication on $\Zmod{n}$
\end{itemize}
The following operations are \textbf{not} commutative:
\begin{itemize}
  \item Subtraction and division: $3 - 1 \neq 1 - 3$
  \item Function composition
  \item Matrix multiplication
\end{itemize}

Note:
\begin{enumerate}
  \item Subtraction and division are not commutative or associative
  \item Function composition and matrix multiplication are not commutative, but are associative
\end{enumerate}
We won't study operations like (1), but we are interested in those like (2).

The first half of this course is group theory: single associative operation, not necessarily
commutative.

The second half of this course is ring theory: two associative operations, focus on the both
commutative case.

\pagebreak
\subsection{Identities}

\begin{defn}{identity}{identity}
  Let $\boxtimes$ be a binary operation on a set $X$.
  An element $e \in X$ is an \hldef{identity} for $\boxtimes$ if
  \[ e \boxtimes x = x \boxtimes e = x \]
  for all $x \in X$.
\end{defn}

\begin{ex}
  \begin{itemize}
    \item
    The zero element $0$ of $\mathbb{Z}$ is an identity for $+$, since $0 + x = x + 0 = x$ for all
    $x \in \mathbb{Z}$.
    \item
    $1 \in \mathbb{Q}$ is an identity for $\cdot$, since $1 \cdot x = x \cdot 1 = x$ for all
    $x \in \mathbb{Q}$.
    \item
    $0 \in \mathbb{Q}$ is not an identity for $\cdot$, since $0 \cdot x = 0 \neq x$ for all
    $x \in \mathbb{Q}$.
  \end{itemize}
\end{ex}

\begin{lem}{}{}
  If $e, e' \in X$ are both identities for $\boxtimes$, then $e = e'$.
\end{lem}

\begin{thmproof}
  $e = e \boxtimes e' = e'$.
\end{thmproof}

\pagebreak
\subsection{Inverses}

\begin{defn}{inverse}{inverse}
  Let $\boxtimes$ be a binary operation on $X$ with an identity element $e$.
  An element $y$ is a \hldef{left inverse} for $x$ (with respect to $\boxtimes$) if
  $y \boxtimes x = e$, a \hldef{right inverse} if $x \boxtimes y = e$, and an \hldef{inverse} if
  $x \boxtimes y = y \boxtimes x = e$.
\end{defn}

\begin{ex}
  \begin{itemize}
    \item
    $-n$ is an inverse for $n \in \mathbb{Z}$ with respect to $+$, since $n + (-n) = (-n) + n = 0$.
    \item
    $n \in \mathbb{Z}$ does not have an inverse with respect to $\cdot$ unless $n = \pm 1$.
    \item
    If $x \in \mathbb{Q}$ is non-zero, then $1/x$ is an inverse of $x$ with respect to $\cdot$.
    The element $0$ does not have an inverse, since there is no element $y$ with $0 \cdot y = 1$.
  \end{itemize}
\end{ex}

\begin{lem}{}{}
  Let $\boxtimes$ be an associative binary operation with an identity $e$.
  If $y_L$ and $y_R$ are left and right inverses of $x$ respectively, then $y_L = y_R$.
\end{lem}

\begin{thmproof}
  $y_L = y_L \boxtimes e = y_L \boxtimes (x \boxtimes y_R) = (y_L \boxtimes x) \boxtimes y_R =
    e \boxtimes y_R = y_R$.
\end{thmproof}

Corollaries:
\begin{itemize}
  \item If $x$ has both a left and a right inverse, then $x$ has an inverse.
  \item Inverses are unique: if $y$ and $y'$ are both inverses of $x$, then $y = y'$.
\end{itemize}

An element $a$ is \hldef{invertible} if it has an inverse, in which case the inverse is denoted by
$a^{-1}$.

\begin{exer}{}{}
  Show it is possible to have a left (resp. right) inverse, but not be invertible.
  Also show left and right inverses are not necessarily unique (unless an element has both).
\end{exer}

\pagebreak
\subsection{Properties of inverses}

\begin{lem}{}{}
  \begin{enumerate}
    \item
    If $\boxtimes$ has an identity $e$, then $e$ is invertible, and $e^{-1} = e$.
    \item
    If $a$ is invertible, then so is $a^{-1}$, and $(a^{-1})^{-1} = a$.
    \item
    If $\boxtimes$ is associative, and $a$ and $b$ are invertible, then so is $a \boxtimes b$, and
    $(a \boxtimes b)^{-1} = b^{-1} \boxtimes a^{-1}$.
  \end{enumerate}
\end{lem}

\begin{thmproof}
  \begin{enumerate}
    \item
    $e \boxtimes e = e$.
    \item
    $a \boxtimes a^{-1} = a^{-1} \boxtimes a = e$, so $a$ is an inverse to $a^{-1}$.
    \item
    $(a \boxtimes b) \boxtimes (b^{-1} \boxtimes a^{-1}) =
      a \boxtimes (b \boxtimes b^{-1}) \boxtimes a^{-1} = a \boxtimes e \boxtimes a^{-1} =
      a \boxtimes a^{-1} = e$,
    and similarly $(b^{-1} \boxtimes a^{-1}) \boxtimes (a \boxtimes b) = e$.
  \end{enumerate}
\end{thmproof}

\pagebreak
\subsection{Inverses and solving equations}

\begin{prop}{}{}
  Let $\boxtimes$ be an associative binary operation on $X$ with an identity $e$, and let $x$ and
  $y$ be variables taking values in $X$.

  An element $a \in X$ is invertible if and only if the equations $a \boxtimes x = b$ and
  $y \boxtimes a = b$ have unique solutions for all $b \in X$.
\end{prop}

\begin{thmproof}
  \begin{itemize}[leftmargin=4em]
    \item[($\impliedby$)]
    A solution to $a \boxtimes x = e$ is a right inverse of $a$, and a solution to
    $y \boxtimes a = b$ is a left inverse.
    Since both solutions exist, $a$ has an inverse.
    \item[($\implies$)]
    Suppose $a$ is invertible.
    Then
    \[ a \boxtimes (a^{-1} \boxtimes b) = (a \boxtimes a^{-1}) \boxtimes b = e \boxtimes b = b \]
    so $a^{-1} \boxtimes b$ is a solution to $a \boxtimes x = b$.

    If $x_0$ is a solution to $a \boxtimes x = b$, then
    \[
      a^{-1} \boxtimes b = a^{-1} \boxtimes (a \boxtimes x_0) = (a^{-1} \boxtimes a) \boxtimes x_0
        = e \boxtimes x_0 = x_0
    \]
    so $a^{-1} \boxtimes b$ is the unique solution to $a \boxtimes x = b$.

    Similarly, $b \boxtimes a^{-1}$ is the unique solution to $y \boxtimes a = b$.
  \end{itemize}
\end{thmproof}

\pagebreak
\subsection{Left and right cancellation property}

\begin{prop}{}{}
  Let $\boxtimes$ be an associative binary operation and let $a \in X$.
  Then:
  \begin{enumerate}
    \item If $a$ has a left inverse and $a \boxtimes u = a \boxtimes v$, then $u = v$.
    \item If $a$ has a right inverse and $u \boxtimes a = v \boxtimes a$, then $u = v$.
  \end{enumerate}
\end{prop}

\begin{thmproof}
  \begin{enumerate}
    \item $u = a_L \boxtimes a \boxtimes u = a_L \boxtimes a \boxtimes v = v$.
    \item Similar.
  \end{enumerate}
\end{thmproof}

(1) and (2) also hold for $n \in \mathbb{Z}$ with respect to $\cdot$ if $n \neq 0$, even though $n$
is not invertible for $n \neq \pm 1$.

\pagebreak
\subsection{Groups}

\begin{defn}{group}{group}
  A \hldef{group} is a pair $(G, \boxtimes)$ where
  \begin{enumerate}
    \item $G$ is a set, and
    \item $\boxtimes$ is an associative binary operation on $G$ such that
    \begin{enumerate}
      \item $\boxtimes$ has an identity $e$, and
      \item every element $g \in G$ is invertible with respect to $\boxtimes$.
    \end{enumerate}
  \end{enumerate}

  A group is \hldef{abelian} (or \hldef{commutative}) if $\boxtimes$ is abelian.

  A group is \hldef{finite} if $G$ is a finite set.
  The \hldef{order} of $G$ is the number of elements in $G$ if $G$ is finite, or $+\infty$ if $G$ is
  infinite.

  The order of $G$ is denoted by $\abs{G}$.
\end{defn}

Terminology:
\begin{itemize}
  \item
  Usually we refer to $(G, \boxtimes)$ simply as $G$, and just assume the operation is given.
  (Note: we still need to clearly specify the operation for each group we work with.)
  \item
  It's cumbersome to write $\boxtimes$, so usually we use one of the following options:
  \begin{itemize}
    \item Use $\cdot$ as the standard symbol: $g \cdot h$ is the product of $g, h \in G$.
    \item Drop the symbol entirely: $gh$ is the product of $g, h \in G$.
  \end{itemize}
  \item
  The identity of $G$ is denoted by $e$ (or $e_G$ for clarity).
  Also used are $1$ and $1_G$.
  \item
  $g^{-1}$ is defined for all $g \in G$.
  The function $G \to G : g \mapsto g^{-1}$ can be regarded as a unary operation on $G$.
  \item
  Consider $\iota \colon G \to G : g \mapsto g^{-1}$.
  Since $(g^{-1})^{-1} = g$, $\iota \circ \iota = \Id_G$, the identity map $G \to G$.
  In particular, $\iota$ is a bijection (injective and surjective).
  \item
  If $g \in G$, then
  \[ g^n := \underbrace{g \cdots g}_{n \text{ times}} \]
  and
  \[ g^{-n} := (g^{-1})^n = (g^n)^{-1} \]
  where $g^0 := e$.
  Exercise: if $m, n \in \mathbb{Z}$, then $(g^n)^m = g^{mn}$.
  \item
  If $g, h \in G$, then
  \[ (gh)^n = gh \cdots gh, \]
  which is not necessarily the same as $g^n h^n$ if $G$ is not abelian.
\end{itemize}

\begin{ex}
  \begin{itemize}
    \item
    $\mathbb{Z}$, $\mathbb{Q}$, $\mathbb{R}$, $\mathbb{C}$ are all (abelian) groups under operation
    $+$.
    The identity is $0$ and the inverse of $n$ is $-n$.
    These groups have infinite order.
    \item
    $\Zmod{n}$ is also a group under $+$ (and also abelian).
    The identity is $0 = [0]$ and the inverse of $[m]$ is $-[m] = [-m]$.
    This group is finite with order $\abs{\Zmod{n}} = n$.
    \item
    If $(V, +, \cdot)$ is a vector space, then $(V, +)$ is a group.
    The identity is $0$ and the inverse of $v$ is $-v$.
    \item
    $\mathbb{Z}$ is not a group with respect to $\cdot$, since most elements do not have an inverse.
    \item
    $\mathbb{Q}$ is also not a group with respect to $\cdot$, since $0$ does not have an inverse.
    \item
    $\mathbb{Q}^\times$ is a group with respect to $\cdot$.
    \item
    Every group has to contain at least one element, the identity.
    So the simplest possible group is ${1}$ with operation $1 \cdot 1 = 1$.
    This is the \hldef{trivial group}.
  \end{itemize}
\end{ex}

\pagebreak
\subsection{A non-abelian example}

All the previous examples are abelian.

Let $\GL_n(\mathbb{K})$ denote the invertible $n \times n$ matrices over a field $\mathbb{K}$.

\begin{prop}{}{}
  $\GL_n(\mathbb{K})$ is a group under matrix multiplication (called the
  \hldef{general linear group}).
  For $n \geq 2$, $\GL_n(\mathbb{K})$ is non-abelian.
\end{prop}

\begin{thmproof}
  If $A$ and $B$ are invertible matrices, then $AB$ is also invertible, so matrix multiplication is
  an associative binary operation on $\GL_n(\mathbb{K})$.
  The identity matrix is an identity and every element has an inverse by definition, so
  $\GL_n(\mathbb{K})$ is a group.

  Exercise: find matrices $A, B$ such that $AB \neq BA$.
\end{thmproof}

\pagebreak
\subsection{Additive notation}

Standard notation for a group operation is $gh$.
This is called \hldef{multiplicative notation}.

For groups like $(\mathbb{Z}, +)$, it is confusing to write $mn$ instead of $m + n$ since $mn$
already has another meaning.

For abelian groups $G$, we can also use \hldef{additive notation}.
In additive notation, we write the group operation as $g + h$.
The identity is denoted by $0$ or $0_G$.
Inverses are denoted by $-g$.

Writing $g^n$ in additive notation gives
\[ \underbrace{g + \cdots + g}_{n \text{ times}} \]
so instead of $g^n$ we use $ng$.
Similarly $g^{-n}$ is $-ng$.

\begin{center}
  \renewcommand{\arraystretch}{1.2}
  \begin{tabular}{cc}
    Multiplicative notation & Additive notation \\
    \hline
    $g \cdot h$ or $gh$ & $g + h$ \\
    $e_G$ or $1_G$ & $0_G$ \\
    $g^{-1}$ & $-g$ \\
    $g^n$ & $ng$ \\
  \end{tabular}
\end{center}

For non-abelian groups we always use multiplicative notation.
For abelian groups, we can choose either.
Note the conventions may conflict, so we should be clear about which we choose.

For a group like $(\mathbb{Z}, +)$, we could use $mn$, but it is clearer to use $m + n$.

For a group like $(\mathbb{Q}^\times, \cdot)$, we could use $x + y$, but it is clearer to use
$x \cdot y$ or $xy$.

\pagebreak
\subsection{Multiplication table}

\begin{defn}{multiplication table}{multtable}
  The \hldef{multiplication table} of a group $G$ is a table with rows and columns indexed by the
  elements of $G$.
  The cell for row $g$ and column $h$ contains the product $gh$.
\end{defn}

The multiplication table contains the complete information of the group (even for infinite groups).

\begin{ex}
  For $\mathbb{Z} / 2\mathbb{Z}$:
  \[
    \begin{array}{c|cc}
      & 0 & 1 \\
      \hline
      0 & 0 & 1 \\
      1 & 1 & 0 \\
    \end{array}
  \]
\end{ex}

\pagebreak
\subsection{Order of elements}

\begin{defn}{order of a group element}{order_element}
  If $G$ is a group, then the order of $g \in G$ is
  \[ \abs{g} := \min\{ k \geq 1 : g^k = e_G \} \cup \{ +\infty \}. \]
\end{defn}

Easy properties:
\begin{itemize}
  \item $\abs{g} = 1$ if and only if $g = e_G$.
  \item If $g^n = 1$, then $g^{n - 1}g = gg^{n - 1} = g^n = 1$, so $g^{n - 1} = g^{-1}$.
  In particular, if $\abs{g} = n < \infty$, then $g^{-1} = g^{n - 1}$.
\end{itemize}

\begin{ex}
  We use additive notation for $\Zmod{n}$, so $g^n$ is written as $ng$ and $e = 0$.
  For this group, $k1 = 0$ if and only if $n \mid k$, so $\abs{1} = n$.
\end{ex}

\begin{lem}{}{}
  $g^n = e$ if and only if $g^{-n} = e$, so in particular, $\abs{g} = \abs{g^{-1}}$.
\end{lem}

\begin{thmproof}
  We have $g^{-n} = (g^n)^{-1}$.
  Since $g \mapsto g^{-1}$ is a bijection, $g^n = e$ if and only if $(g^n)^{-1} = e^{-1} = e$.

  But $g^{-n} = (g^{-1})^n$ also, so $\{ k \geq 1 : g^k = e \} = \{ k \geq 1 : (g^{-1})^k = e \}$
  which implies $\abs{g} = \abs{g^{-1}}$.
\end{thmproof}

%%%%% Lec 02
\section{Dihedral and permutation groups}

\subsection{Dihedral groups}

\begin{defn}{$n$-gon}{ngon}
  A regular polygon $P_n$ with $n \geq 3$ vertices is called an \hldef{$n$-gon}.
\end{defn}

Specifically: set $v_k = (\cos(2\pi k/n), \sin(2\pi k/n)) = e^{2\pi ik/n}$ and get an $n$-gon by
drawing a line segment from $v_k$ to $v_{k + 1}$ for all $0 \leq k \leq n$ (where $v_n := v_0$).

\begin{center}
  \begin{tabular}{
    >{\centering\arraybackslash}m{0.3\textwidth}
    >{\centering\arraybackslash}m{0.3\textwidth}
    >{\centering\arraybackslash}m{0.3\textwidth}
  }
    \begin{tikzpicture}[
      vtx/.style={
        circle, draw, fill=black,
        inner sep=0pt, minimum width=4pt
      }
    ]
      \foreach \ang/\x in {0/v0,120/v1,240/v2} {
        \node[vtx] (\x) at (\ang:1.5){};
      }
      \node[font=\footnotesize] at (0,0){$3$-gon};
      \node[right] at (v0){$v_0$};
      \node[above left] at (v1){$v_1$};
      \node[below left] at (v2){$v_2$};

      \draw (v0)--(v1)--(v2)--(v0);
    \end{tikzpicture}
    &
    \begin{tikzpicture}[
      vtx/.style={
        circle, draw, fill=black,
        inner sep=0pt, minimum width=4pt
      }
    ]
      \foreach \ang/\x in {0/v0,90/v1,180/v2,270/v3} {
        \node[vtx] (\x) at (\ang:1.5){};
      }
      \node[font=\footnotesize] at (0,0){$4$-gon};
      \node[right] at (v0){$v_0$};
      \node[above] at (v1){$v_1$};
      \node[left] at (v2){$v_2$};
      \node[below] at (v3){$v_3$};

      \draw (v0)--(v1)--(v2)--(v3)--(v0);
    \end{tikzpicture}
    &
    \begin{tikzpicture}[
      vtx/.style={
        circle, draw, fill=black,
        inner sep=0pt, minimum width=4pt
      }
    ]
      \foreach \ang/\x in {0/v0,72/v1,144/v2,216/v3,288/v4} {
        \node[vtx] (\x) at (\ang:1.5){};
      }
      \node[font=\footnotesize] at (0,0){$5$-gon};
      \node[right] at (v0){$v_0$};
      \node[above right] at (v1){$v_1$};
      \node[above left] at (v2){$v_2$};
      \node[below left] at (v3){$v_3$};
      \node[below right] at (v4){$v_4$};

      \draw (v0)--(v1)--(v2)--(v3)--(v4)--(v0);
    \end{tikzpicture}
    \\
  \end{tabular}
\end{center}

\begin{defn}{symmetry, dihedral group}{symmetry_dihedralgroup}
  A \hldef{symmetry} of the $n$-gon $P_n$ is an invertible linear transformation
  $T \in \GL_2(\mathbb{R})$ such that $T(P_n) = P_n$.

  The set of symmetries of $P_n$ is called the \hldef{dihedral group} and is denoted by $D_{2n}$
  (or $D_n$).
\end{defn}

(Think of matrices and linear transformations interchangeably.
Matrix multiplication = composition of transformations.)

\begin{prop}{}{}
  $D_{2n}$ is a group under composition.
\end{prop}

Proof later (key point: $S, T \in D_{2n} \implies ST \in D_{2n}$).

\begin{lem}{}{}
  Say $v_i$ and $v_j$ are adjacent in $P_n$ if they are connected by a line segment.
  \begin{enumerate}
    \item If $T \in D_{2n}$, then $(T(v_0), T(v_1))$ are adjacent.
    \item If $S, T \in D_{2n}$ and $S(v_i) = T(v_i)$ for $i = 0, 1$, then $S = T$.
  \end{enumerate}
\end{lem}

\begin{thmproof}
  \begin{enumerate}
    \item $v_0, v_1$ are adjacent and $T$ is linear (lines map to lines).
    \item $v_0, v_1$ are linearly independent (and form a basis in $\mathbb{R}^2$).
  \end{enumerate}
\end{thmproof}

\begin{cor}{}{}
  $\abs{D_{2n}} \leq 2n$.
\end{cor}

\begin{thmproof}
  Let $A$ be the set of adjacent $(v_i, v_j)$, so $\abs{A} = 2n$.
  By lemma, $D_{2n} \to A : T \mapsto (T(v_0), T(v_1))$ is well-defined and injective.
\end{thmproof}

Intuitively, we can ask: for every pair of adjacent vertices $(v_i, v_j)$, is there an element
$T \in D_{2n}$ with $T(v_0) = v_i$ and $T(v_1) = v_j$?
If yes, then $\abs{D_{2n}} = 2n$.

\pagebreak
\subsection[Special elements of D2n]{Special elements of $D_{2n}$}

Let $s \in D_{2n}$ be rotation by $2\pi / n$ radians, so $\abs{s} = n$ (that is, $s^n = e$ and
$s^k \neq e$ for $1 \leq k < n$).

\begin{tikzpicture}[
  vtx/.style={
    circle, draw, fill=black,
    inner sep=0pt, minimum width=4pt
  }
]
  \foreach \ang/\x in {0/v0,72/v1,144/v2,216/v3,288/v4} {
    \node[vtx] (\x) at (\ang:1.5){};
  }
  \node[right] at (v0){$v_0$};
  \node[above right] at (v1){$v_1$};
  \node[above left] at (v2){$v_2$};
  \node[below left] at (v3){$v_3$};
  \node[below right] at (v4){$v_4$};
  \draw (v0)--(v1)--(v2)--(v3)--(v4)--(v0);
\end{tikzpicture}
\begin{tikzpicture}[
  vtx/.style={
    circle, draw, fill=black,
    inner sep=0pt, minimum width=4pt
  }
]
  \foreach \ang/\x in {0/v0,72/v1,144/v2,216/v3,288/v4} {
    \node[vtx] (\x) at (\ang:1.5){};
  }
  \node[right] at (v0){$v_1$};
  \node[above right] at (v1){$v_2$};
  \node[above left] at (v2){$v_3$};
  \node[below left] at (v3){$v_4$};
  \node[below right] at (v4){$v_0$};
  \draw (v0)--(v1)--(v2)--(v3)--(v4)--(v0);
  \draw[->] (-3,0)--(-2,0){} node[midway, above]{$s$};
  \node at (-3.25,0){};
\end{tikzpicture}
\begin{tikzpicture}[
  vtx/.style={
    circle, draw, fill=black,
    inner sep=0pt, minimum width=4pt
  }
]
  \foreach \ang/\x in {0/v0,72/v1,144/v2,216/v3,288/v4} {
    \node[vtx] (\x) at (\ang:1.5){};
  }
  \node[right] at (v0){$v_2$};
  \node[above right] at (v1){$v_3$};
  \node[above left] at (v2){$v_4$};
  \node[below left] at (v3){$v_0$};
  \node[below right] at (v4){$v_1$};
  \draw (v0)--(v1)--(v2)--(v3)--(v4)--(v0);
  \draw[->] (-3,0)--(-2,0){} node[midway, above]{$s$};
  \node at (-3.25,0){};
\end{tikzpicture}

\begin{tikzpicture}[
  vtx/.style={
    circle, draw, fill=black,
    inner sep=0pt, minimum width=4pt
  }
]
  \foreach \ang/\x in {0/v0,72/v1,144/v2,216/v3,288/v4} {
    \node[vtx] (\x) at (\ang:1.5){};
  }
  \node[right] at (v0){$v_3$};
  \node[above right] at (v1){$v_4$};
  \node[above left] at (v2){$v_0$};
  \node[below left] at (v3){$v_1$};
  \node[below right] at (v4){$v_2$};
  \draw (v0)--(v1)--(v2)--(v3)--(v4)--(v0);
  \draw[->] (-3,0)--(-2,0){} node[midway, above]{$s$};
\end{tikzpicture}
\begin{tikzpicture}[
  vtx/.style={
    circle, draw, fill=black,
    inner sep=0pt, minimum width=4pt
  }
]
  \foreach \ang/\x in {0/v0,72/v1,144/v2,216/v3,288/v4} {
    \node[vtx] (\x) at (\ang:1.5){};
  }
  \node[right] at (v0){$v_4$};
  \node[above right] at (v1){$v_0$};
  \node[above left] at (v2){$v_1$};
  \node[below left] at (v3){$v_2$};
  \node[below right] at (v4){$v_3$};
  \draw (v0)--(v1)--(v2)--(v3)--(v4)--(v0);
  \draw[->] (-3,0)--(-2,0){} node[midway, above]{$s$};
  \node at (-3.25,0){};
\end{tikzpicture}
\begin{tikzpicture}[
  vtx/.style={
    circle, draw, fill=black,
    inner sep=0pt, minimum width=4pt
  }
]
  \foreach \ang/\x in {0/v0,72/v1,144/v2,216/v3,288/v4} {
    \node[vtx] (\x) at (\ang:1.5){};
  }
  \node[right] at (v0){$v_0$};
  \node[above right] at (v1){$v_1$};
  \node[above left] at (v2){$v_2$};
  \node[below left] at (v3){$v_3$};
  \node[below right] at (v4){$v_4$};
  \draw (v0)--(v1)--(v2)--(v3)--(v4)--(v0);
  \draw[->] (-3,0)--(-2,0){} node[midway, above]{$s$};
  \node at (-3.25,0){};
\end{tikzpicture}

Let $r$ be reflection through the $x$-axis.

\begin{tikzpicture}[
  vtx/.style={
    circle, draw, fill=black,
    inner sep=0pt, minimum width=4pt
  }
]
  \foreach \ang/\x in {0/v0,72/v1,144/v2,216/v3,288/v4} {
    \node[vtx] (\x) at (\ang:1.5){};
  }
  \node[above right] at (v0){$v_0$};
  \node[above right] at (v1){$v_1$};
  \node[above left] at (v2){$v_2$};
  \node[below left] at (v3){$v_3$};
  \node[below right] at (v4){$v_4$};
  \draw (v0)--(v1)--(v2)--(v3)--(v4)--(v0);
  \draw[dashed] (-2,0)--(2.5,0);
\end{tikzpicture}
\begin{tikzpicture}[
  vtx/.style={
    circle, draw, fill=black,
    inner sep=0pt, minimum width=4pt
  }
]
  \foreach \ang/\x in {0/v0,72/v1,144/v2,216/v3,288/v4} {
    \node[vtx] (\x) at (\ang:1.5){};
  }
  \node[above right] at (v0){$v_0$};
  \node[above right] at (v1){$v_4$};
  \node[above left] at (v2){$v_3$};
  \node[below left] at (v3){$v_2$};
  \node[below right] at (v4){$v_1$};
  \draw (v0)--(v1)--(v2)--(v3)--(v4)--(v0);
  \draw[->] (-3,0)--(-2,0) node[midway, above]{$r$};
  \node at (-3.25,0){};
\end{tikzpicture}

$\abs{r} = 2$, that is, $r^2 = e$ and $r \neq e$.

We have $r(v_0) = v_0$ and $r(v_1)$ is now the vertex before $v_0$ rather than the vertex after.

\pagebreak
\subsection{Putting rotation and reflection together}

$s^i$ for $0 \leq i < n$ sends $v_0 \mapsto v_i$ and $v_1 \mapsto v_{i + 1}$.
(Say $v_n = v_0$ and $s^0 = e$.)

$s^i r$ for $0 \leq i < n$ sends $v_0 \mapsto v_i$ and $v_1 \mapsto v_{i - 1}$.
(Say $v_{-1} = v_{n - 1}$.)

\begin{tikzpicture}[
  vtx/.style={
    circle, draw, fill=black,
    inner sep=0pt, minimum width=4pt
  }
]
  \foreach \ang/\x in {0/v0,72/v1,144/v2,216/v3,288/v4} {
    \node[vtx] (\x) at (\ang:1.5){};
  }
  \node[above right] at (v0){$v_0$};
  \node[above right] at (v1){$v_1$};
  \node[above left] at (v2){$v_2$};
  \node[below left] at (v3){$v_3$};
  \node[below right] at (v4){$v_4$};
  \draw (v0)--(v1)--(v2)--(v3)--(v4)--(v0);
  \draw[dashed] (-2,0)--(2.5,0);
\end{tikzpicture}
\begin{tikzpicture}[
  vtx/.style={
    circle, draw, fill=black,
    inner sep=0pt, minimum width=4pt
  }
]
  \foreach \ang/\x in {0/v0,72/v1,144/v2,216/v3,288/v4} {
    \node[vtx] (\x) at (\ang:1.5){};
  }
  \node[above right] at (v0){$v_0$};
  \node[above right] at (v1){$v_4$};
  \node[above left] at (v2){$v_3$};
  \node[below left] at (v3){$v_2$};
  \node[below right] at (v4){$v_1$};
  \draw (v0)--(v1)--(v2)--(v3)--(v4)--(v0);
  \draw[->] (-3,0)--(-2,0) node[midway, above]{$r$};
  \node at (-3.25,0){};
\end{tikzpicture}
\begin{tikzpicture}[
  vtx/.style={
    circle, draw, fill=black,
    inner sep=0pt, minimum width=4pt
  }
]
  \foreach \ang/\x in {0/v0,72/v1,144/v2,216/v3,288/v4} {
    \node[vtx] (\x) at (\ang:1.5){};
  }
  \node[above right] at (v0){$v_2$};
  \node[above right] at (v1){$v_1$};
  \node[above left] at (v2){$v_0$};
  \node[below left] at (v3){$v_4$};
  \node[below right] at (v4){$v_3$};
  \draw (v0)--(v1)--(v2)--(v3)--(v4)--(v0);
  \draw[->] (-3,0)--(-2,0) node[midway, above]{$s^2$};
  \node at (-3.25,0){};
\end{tikzpicture}

\begin{prop}{}{}
  $D_{2n} = \{ s^i r^j : 0 \leq i < n, \ 0 \leq j < 2 \}$, so $\abs{D_{2n}} = 2n$.
\end{prop}

So what is $rs$?

$rs(v_0) = r(v_1) = v_{n - 1}$ and $rs(v_1) = r(v_2) = v_{n - 2}$.

So $rs = s^{n - 1} r = s^{-1} r$.

\begin{cor}{}{}
  $D_{2n}$ is a finite non-abelian group.
\end{cor}

In summary:
\begin{itemize}
  \item $D_{2n} = \{ s^i r^j : 0 \leq i < n, \ 0 \leq j < 2 \}$
  \item $\abs{D_{2n}} = 2n$
  \item $s^n = e$, $r^2 = e$, $rs = s^{-1} r$
  \item $D_{2n}$ is a finite non-abelian group.
\end{itemize}
Exercise: show these relations are enough to completely determine $D_{2n}$.

\pagebreak
\subsection{What's group theory about?}

Basic answer: sets with one binary operation.

Better answer: group theory is the study of symmetry.

If we resize or rotate $P_n$, then the symmetries remain the same.

Kleinian view of geometry:
\begin{itemize}
  \item $D_{2n}$ captures what is means to be a regular $n$-gon.
  \item More generally, geometry is about the study of symmetries.
\end{itemize}

\pagebreak
\subsection{Permutation groups}

If $X$ is a set, let $\Fun(X, X)$ be the set of functions $X \to X$.
Then
\[ \circ \colon \Fun(X, X) \times \Fun(X, X) \to \Fun(X, X) : (f, g) \mapsto f \circ g \]
is an associative operation with an identity $\Id_X$.

Let $S_X = \{ f \in \Fun(X, X) : f \text{ is a bijection} \}$.

\begin{prop}{}{}
  $S_X$ is a group under $\circ$.
\end{prop}

\begin{thmproof}
  Homework.
\end{thmproof}

\begin{defn}{symmetric group}{symmetricgroup}
  Let $n \geq 1$.
  The \hldef{symmetric group} (or \hldef{permutation group}) $S_n$ is the group $S_X$ with
  $X = \{1, \ldots, n\}$.
\end{defn}

Elements of $S_n$ are bijections $\pi \colon \{1, \ldots, n\} \to \{1, \ldots, n\}$.

What makes such a $\pi$ a bijection?
Every element of $\{1, \ldots, n\}$ must appear in the list $\pi(1), \ldots, \pi(n)$ and no
element can appear twice.

We have $n$ choices for $\pi(1)$, $n - 1$ choices for $\pi(2)$, \dots, 1 choice for $\pi(n)$.
Thus $\abs{S_n} = n(n - 1) \cdots 1 = n!$.

Note $\abs{S_1} = 1! = 1$, so $S_1$ is the trivial group.

\pagebreak
\subsection{Permutations}

Elements of $S_n$ are called \hldef{permutations}.
We have several ways of representing permutations:
\begin{enumerate}
  \item
  Two-line representation:
  \[ \pi = \begin{pmatrix} 1 & 2 & 3 & 4 & 5 & 6 \\ 6 & 5 & 1 & 4 & 2 & 3 \end{pmatrix} \]
  \item
  One-line representation: $\pi = 651423$.
  \item
  Disjoint cycle representation: write down the \hldef{cycles} of $\pi$.
  Here $\pi(1) = 6$, $\pi(6) = 3$, and $\pi(3) = 1$, so $(163)$ is a cycle of $\pi$.

  $\pi = (163)(25)(4) = (163)(25)$.
  We typically drop cycles of length 1, and write cycles containing the smallest unused element
  first.

  The identity is empty in disjoint cycle notation, so we just use $e$.
\end{enumerate}

Multiplication can be done in two-line or disjoint cycle notation:
\begin{align*}
  \pi &= \begin{pmatrix}
    1 & 2 & 3 & 4 & 5 & 6 \\
    6 & 5 & 1 & 4 & 2 & 3
  \end{pmatrix} = (163)(25) \\
  \sigma &= \begin{pmatrix}
    1 & 2 & 3 & 4 & 5 & 6 \\
    2 & 6 & 4 & 5 & 3 & 1
  \end{pmatrix} = (126)(345) \\
  \pi\sigma &= \begin{pmatrix}
    1 & 2 & 3 & 4 & 5 & 6 \\
    5 & 3 & 4 & 2 & 1 & 6
  \end{pmatrix} = (15)(234)
\end{align*}
One-line notation is hard, so we don't use it here.

Inversion can also be done in two-line or disjoint cycle notation:
\[
  \pi = \begin{pmatrix}
    1 & 2 & 3 & 4 & 5 & 6 \\
    6 & 5 & 1 & 4 & 2 & 3
  \end{pmatrix} = (163)(25)
\]
\[
  \pi^{-1} = \begin{pmatrix}
    6 & 5 & 1 & 4 & 2 & 3 \\
    1 & 2 & 3 & 4 & 5 & 6
  \end{pmatrix} = \begin{pmatrix}
    1 & 2 & 3 & 4 & 5 & 6 \\
    3 & 5 & 6 & 4 & 2 & 1
  \end{pmatrix} = (136)(25)
\]
If $\pi(i) = j$, then $\pi^{-1}(j) = i$, so cycles of $\pi^{-1}$ are cycles of $\pi$ in reverse
order.

\pagebreak
\subsection{Fixed points and support sets}

\begin{defn}{fixed point, support set}{fixedpoint_supportset}
  The \hldef{fixed points} of a permutation $\pi \in S_n$ are the numbers $1 \leq i \leq n$ such
  that $\pi(i) = i$.

  The \hldef{support set} of $\pi \in S_n$ is
  \[ \supp(\pi) = \{ 1 \leq i \leq n : \pi(i) \neq i \}. \]

  $\pi$ and $\sigma$ are \hldef{disjoint} if $\supp(\pi) \cap \supp(\sigma) = \varnothing$.
\end{defn}

\begin{ex}
  $\supp((163)(25)) = \{1, 2, 3, 5, 6\}$.
\end{ex}

Some notes:
\begin{itemize}
  \item
  In general, $\supp(\pi)$ are exactly the numbers that appear in the disjoint cycle representation
  of $\pi$ (when length-1 cycles are omitted).
  \item
  $\supp(\pi) = \varnothing$ if and only if $\pi = e$.
  \item
  $\supp(\pi^{-1}) = \supp(\pi)$.
  \item
  If $i \in \supp(\pi)$, then $\pi(i) \in \supp(\pi)$.
\end{itemize}

\pagebreak
\subsection{Commuting elements}

\begin{defn}{commute}{commute}
  Two elements $g, h$ in a group $G$ \hldef{commute} if $gh = hg$.
\end{defn}

\begin{lem}{}{}
  If $\pi, \sigma \in S_n$ are disjoint, then $\pi\sigma = \sigma\pi$.
\end{lem}

\begin{thmproof}
  Suppose $1 \leq i \leq n$.

  If $i \in \supp(\pi)$, then $\pi(i) \in \supp(\pi)$.
  Since $\pi, \sigma$ are disjoint, we have $i, \pi(i) \not\in \supp(\sigma)$.
  So $\pi(\sigma(i)) = \pi(i) = \sigma(\pi(i))$.

  By symmetry, $\pi(\sigma(i)) = \sigma(\pi(i))$ if $i \in \supp(\sigma)$.

  If $i \not\in \supp(\pi) \cup \supp(\sigma)$, then $\pi(\sigma(i)) = i = \sigma(\pi(i))$.

  Then $\pi(\sigma(i)) = \sigma(\pi(i))$ for all $i$, so $\pi\sigma = \sigma\pi$.
\end{thmproof}

\pagebreak
\subsection{Cycles}

\begin{defn}{cycle}{cycle}
  A \hldef{$k$-cycle} is an element of $S_n$ with disjoint cycle notation $(i_1 i_2 \cdots i_k)$.
\end{defn}

Suppose the cycles of $\pi \in S_n$ are $c_1, \ldots, c_k$.
We can regard $c_i$ as an element of $S_n$ and $\pi = c_1 \cdot c_2 \cdot \cdots \cdot c_k$ as a
product in $S_n$.
Since $c_i$ and $c_j$ are disjoint, $c_i c_j = c_j c_i$.
Thus the order of cycles in disjoint cycle representation doesn't matter.

\begin{ex}
  $\pi = (163)(25) = (25) \cdot (163)$.
\end{ex}

Additionally, we have $\pi^{-1} = c_k^{-1} \cdots c_1^{-1} = c_1^{-1} \cdots c_k^{-1}$.

\begin{ex}
  If $c$ and $c'$ are non-disjoint cycles, then they don't necessarily commute:
  $(12)(23) = (123)$ while $(23)(12) = (123)^{-1} = (132) \neq (12)(23)$.
\end{ex}

If $\pi$ is a permutation, then $\pi$ commutes with $\pi^i$ for all $i$, so $\pi$ and $\pi^i$
commute.
However, $\pi$ and $\pi^i$ don't have disjoint support sets.

\week{Subgroups and homomorphisms}

%%%%% Lec 3
\section{Subgroups}

\subsection{Subgroups}

\begin{defn}{subgroup}{subgroup}
  Let $(G, \cdot)$ be a group.
  A subset $H \subseteq G$ is a \hldef{subgroup} of $G$ if
  \begin{enumerate}
    \item for all $g, h \in H$, $g \cdot h \in H$ ($H$ is \hldef{closed under products}),
    \item for all $g \in H$, $g^{-1} \in H$ ($H$ is \hldef{closed under inverses}), and
    \item $e_G \in H$.
  \end{enumerate}

  Notation: $H \leq G$.
\end{defn}

\begin{ex}
  \begin{itemize}
    \item $\mathbb{Z} \leq \mathbb{Q}^+ := (\mathbb{Q}, +)$.
    \item $\mathbb{Q}_{> 0} := \{ x \in \mathbb{Q} : x > 0 \} \leq \mathbb{Q}^\times$.

    Check: if $x, y \in \mathbb{Q}$ and $x, y > 0$, then $xy > 0 \implies xy \in \mathbb{Q}_{> 0}$.
    Also, if $x > 0$, then $1/x > 0 \implies 1/x \in \mathbb{Q}_{> 0}$.
  \end{itemize}
\end{ex}

\begin{ex}
  Let $G = D_{2n}$ and $s$ be rotation.

  $H = \{ e = s^0, s, s^2, \ldots, s^{n - 1} \}$ is a subgroup of $D_{2n}$.
\end{ex}

\begin{exerproof}
  Claim: $s^i \in H$ for all $i \in \mathbb{Z}$.

  Proof: let $i = nk + r$ with $0 \leq r < n$.
  Then $s^i = s^{nk + r} = (s^n)^k s^r = s^r$ since $s^n = e$.

  Checking subgroup properties:
  \begin{itemize}
    \item If $s^i, s^j \in H$, then $s^{i + j} \in H$.
    \item If $s^i \in H$, then $s^{-i} \in H$.
    \item $e \in H$.
  \end{itemize}
\end{exerproof}

$H$ is the smallest subgroup containing $s$ (since subgroups are closed under products).

Notation for $H$ is $\ang{s}$.

\begin{ex}
  Let $G = \mathbb{Z} = (\mathbb{Z}, +)$.

  If $m \in \mathbb{Z}$, then
  $m\mathbb{Z} := \{ km : k \in \mathbb{Z} \} = \{ n \in \mathbb{Z} : m \mid n \}$ is a subgroup of
  $\mathbb{Z}$.

  In particular, $0\mathbb{Z} = \{0\}$ is a subgroup of $\mathbb{Z}$ called the \hldef{trivial
  subgroup}.
\end{ex}

\begin{defn}{trivial subgroup, proper subgroup}{trivialpropersubgroup}
  If $G$ is a group, then $\{e\}$ is a subgroup called the \hldef{trivial subgroup}.

  Also, $G$ is a subgroup of $G$.
  A subgroup $H$ is \hldef{proper} if $H \neq G$.
  Notation: $H < G$.
\end{defn}

$H$ is a proper non-trivial subgroup if $\{e\} \neq H < G$.

\begin{ex}
  Some non-subgroups:
  \begin{itemize}
    \item
    $\mathbb{Q}_{\geq 0} := \{x \in \mathbb{Q} : x \geq 0\}$ is not a subgroup of $\mathbb{Q}^+$.

    If $x, y \in \mathbb{Q}_{\geq 0}$, then $x + y \in \mathbb{Q}_{\geq 0}$.
    Also, $0 \in \mathbb{Q}_{\geq 0}$.

    But if $x \in Q_{\geq 0}$, then $-x \not\in \mathbb{Q}_{\geq 0}$ unless $x = 0$.
    \item
    $\mathbb{Q}^\times$ is not a subgroup of $(\mathbb{Q}, \cdot)$ because $(\mathbb{Q}, \cdot)$ is
    not a group.
  \end{itemize}
\end{ex}

\begin{prop}{}{}
  If $H$ is a subgroup of $(G, \boxtimes)$, then $(H, \boxtimes \rvert_{H \times H})$ is a group,
  such that
  \begin{enumerate}
    \item the identity of $H$ is $e_H = e_G$, and
    \item the inverse of $g \in H$ is the same as the inverse of $g$ in $G$.
  \end{enumerate}
\end{prop}

\begin{thmproof}
  First, we show $\boxtimes \rvert_{H \times H}$ is a binary operation on $H$.
  Note $\boxtimes$ is a function $G \times G \to G$, so $\boxtimes \rvert_{H \times H}$ is a
  function $H \times H \to G$.
  But if $g, h \in H$, then $g \boxtimes h \in H$.
  Thus $\boxtimes \rvert_{H \times H}$ is a function $H \times H \to H$.

  From now on, denote this function by $\tilde{\boxtimes}$.

  Since $\boxtimes$ is associative, $\tilde{\boxtimes}$ is associative.

  Note $e_H = e_G$ is the identity for $\tilde{\boxtimes}$.

  If $g \in H$, then $g^{-1}$ with respect to $\boxtimes$ is in $H$.

  Since $g \mathop{\tilde{\boxtimes}} g^{-1} = g^{-1} \mathop{\tilde{\boxtimes}} g = e_G = e_H$,
  $g^{-1}$ is the inverse of $g$ with respect to $\tilde{\boxtimes}$.

  So $(H, \tilde{\boxtimes})$ is a group.
\end{thmproof}

We call $\tilde{\boxtimes}$ the \hldef{operation induced by $\boxtimes$} on $H$.
Usually we just refer to $\tilde{\boxtimes}$ as $\boxtimes$.

\begin{ex}
  \begin{itemize}
    \item $\mathbb{Z}$ is a subgroup of $\mathbb{Q}$ with operation $+$.
    \item If $H$ is a subgroup of $(G, \cdot)$, then $H$ is a group with operation $\cdot$.
  \end{itemize}
\end{ex}

\pagebreak
\subsection{Speeding up the subgroup check}

\begin{prop}{}{}
  $H$ is a subgroup of $G$ if and only if
  \begin{enumerate}
    \item $H$ is non-empty, and
    \item $gh^{-1} \in H$ for all $g, h \in H$.
  \end{enumerate}
\end{prop}

\begin{thmproof}
  \begin{enumerate}[leftmargin=4em]
    \item[($\implies$)]
    If $H$ is a subgroup of $G$, then $e_G \in H$, so $H \neq \varnothing$.
    Also if $g, h \in H$, then $h^{-1} \in H$ and $gh^{-1} \in H$.
    \item[($\impliedby$)]
    By (1), there is some $x \in H$.
    By (2), $xx^{-1} = e_G \in H$.

    Also by (2), $e_G \cdot x^{-1} = x^{-1} \in H$ (so $H$ is closed under inverses).

    Now if $x, y \in H$, then $y^{-1} \in H$, so $xy = x(y^{-1})^{-1} \in H$ (so $H$ is closed under
    products).
  \end{enumerate}
\end{thmproof}

\begin{ex}
  Let $(V, +, \cdot)$ be a vector space.

  If $W$ is a subspace of $V$, then $W$ is a subgroup of $(V, +)$.

  Check:
  \begin{itemize}
    \item $0 \in W$ so $W$ is non-empty.
    \item If $v, w \in W$, then $v + (-w) = v - w \in W$.
  \end{itemize}
  $W$ is a subgroup by the proposition.
\end{ex}

\pagebreak
\subsection{Finite subgroups}

\begin{prop}{}{}
  Suppose $H$ is a finite subset of $G$.
  Then $H$ is a subgroup of $G$ if and only if
  \begin{enumerate}
    \item $H$ is non-empty, and
    \item $gh \in H$ for all $g, h \in H$.
  \end{enumerate}
\end{prop}

\begin{thmproof}
  The forward direction is trivial.

  Suppose $g \in H$.
  By induction, we can show $g^n \in H$ for all $n \in \mathbb{N}$.

  Since $H$ is finite, the sequence $g, g^2, g^3, \ldots \in H$ must eventually repeat.

  So $g^i = g^j$ for some $1 \leq i < j \implies g^n = e$ for $n = j - i$.

  If $n = 1$, then $g^n = g = e$ so $g^{-1} = e \in H$.
  If $n > 1$, then $g^{n - 1} = g^{-1} \in H$.
\end{thmproof}

\pagebreak
\subsection{Subgroups generated by a set}

\begin{prop}{}{}
  Suppose $\mathcal{F}$ is a non-empty set of subgroups of $G$.
  Then
  \[ K := \bigcap_{H \in \mathcal{F}} H \]
  is a subgroup of $G$.
\end{prop}

\begin{thmproof}
  Note $e_G \in H$ for all $H \in \mathcal{F}$, so $e_G \in K$ and thus $K$ is non-empty.

  Now consider $x, y \in K$.
  Then $x, y \in H$ for all $H \in \mathcal{F}$, so $y^{-1} \in H$ for all $H \in \mathcal{F}$,
  so $xy^{-1} \in H$ for all $H \in \mathcal{F}$, so $xy^{-1} \in K$.

  By proposition, $K$ is a subgroup of $G$.
\end{thmproof}

\begin{defn}{subgroup generated by a set}{subgroupgenerated}
  Let $S$ be a subset of a group $G$.

  The \hldef{subgroup generated by $S$ in $G$} is
  \[ \ang{S} := \bigcap_{S \subseteq H \leq G} H. \]
\end{defn}

Notes:
\begin{itemize}
  \item The intersection is non-empty because $S \subseteq G \leq G$.
  \item If $S \subseteq K \leq G$, then $\ang{S} \subseteq K$.
  So say that $\ang{S}$ is the smallest subgroup of $G$ containing $S$.
  \item $\ang{\varnothing} = \ang{e} = \{e\}$, the trivial subgroup.
  \item If $S = \{s_1, s_2, \ldots\}$, we often write
  $\ang{S} = \ang{s_1, s_2, \ldots}$.
\end{itemize}

\begin{ex}
  Consider $D_{2n}$ and its rotation generator $s$.

  Let $K = \{e = s^0, s^1, s^2, \ldots, s^{n - 1}\}$.
  As previously checked, $K$ is a subgroup of $D_{2n}$.

  Since $s \in K$, $\ang{s} \in K$.

  On the other hand, we can show by induction that $s^i \in \ang{s}$ for all
  $i \in \mathbb{Z}$.
  So $K \subseteq \ang{s} \implies \ang{s} = K$.
\end{ex}

Note that $\ang{s}$ is constructed by taking all products of $s$ with itself.
Can we generalize this example?

If $S \subset G$, let $S^{-1} = \{s^{-1} : s \in S\}$.

\begin{prop}{}{}
  If $S \subset G$, let
  \[ K = \{e\} \cup \{ s_1 \cdots s_k : k \geq 1, \ s_1, \ldots, s_k \in S \cup S^{-1} \}. \]
  Then $\ang{S} = K$.
\end{prop}

\begin{thmproof}
  Claim 1: $S \subseteq K \subseteq \ang{S}$.

  Proof: We know $e \in \ang{S}$.
  Prove by induction that $s_1 \cdots s_k \in \ang{S}$ for all $k \geq 1$ and
  $s_1, \ldots, s_k \in S \cup S^{-1}$.

  Claim 2: $K$ is a subgroup.

  Proof: $e \in K$ by construction.
  Consider $x, y \in K$.
  Then
  \begin{align*}
    x &= s_1 \cdots s_k, \ k \geq 0, \ s_1, \ldots, s_k \in S \cup S^{-1} \\
    y &= t_1 \cdots t_\ell, \ \ell \geq 0, \ t_1, \ldots, t_\ell \in S \cup S^{-1}.
  \end{align*}
  So $xy = s_1 \cdots s_k t_1 \cdots t_\ell \in K$, and $x^{-1} = s_k^{-1} \cdots s_1^{-1} \in K$
  since $s_k^{-1}, \ldots, s_1^{-1} \in S \cup S^{-1}$.

  So $K$ is a subgroup.

  Proof of proposition: $S \subseteq K$ and $\ang{S}$ is the smallest subgroup containing
  $S$, so $\ang{S} \subseteq K$.

  Thus $\ang{S} = K$.
\end{thmproof}

\pagebreak
\subsection{Lattice of subgroups}

Subgroups of $G$ are ordered by set inclusion $\subseteq$.

If $H_1, H_2 \leq G$ and $H_1 \subseteq H_2$, then $H_1 \leq H_2$, so we also write this order as
$\leq$.
(Exercise.)

The set of subgroups of $G$ with order $\leq$ is called the \hldef{lattice of subgroups of $G$}.

The first subgroup below $H_1, H_2 \leq G$ in the lattice is $H_1 \cup H_2$.
The first subgroup above $H_1, H_2 \leq G$ in the lattice is $\ang{H_1 \cup H_2}$.

\begin{center}
  \begin{forest}
    [$\mathbb{Z}$, calign=child, calign child=2
      [$2\mathbb{Z}$, name=2
        [$4\mathbb{Z}$, name=4]
      ]
      [$3\mathbb{Z}$
        [$6\mathbb{Z}$, name=6
          [$\vdots$, name=vdots
            [$0\mathbb{Z}$]
          ]
        ]
      ]
      [$\cdots$]
    ]
    \draw (2)--(6);
    \draw (4)--(vdots);
  \end{forest}
\end{center}

%%%%% Lec 4
\section{Cyclic groups}

\subsection{Generators and cyclic groups}

\begin{defn}{generate, cyclic}{}
  A subset $S$ of a group $G$ \hldef{generates} $G$ if $\ang{S} = G$.

  A group $G$ is \hldef{cyclic} if $G = \ang{a}$ for some $a \in G$.
\end{defn}

\begin{ex}
  \begin{itemize}
    \item $\mathbb{Z} = \ang{1} = \ang{-1}$ (generators are not unique)
    \item $\Zmod{n} = \ang{[1]} = \ang{[-1]}$
    \item $\mathbb{Q}^+$ is not cyclic (homework)
    \item If $G$ is a group, then $\ang{a}$ is a cyclic group for any $a \in G$ (called the
    \hldef{cyclic subgroup generated by $a$}).
  \end{itemize}
\end{ex}

\begin{lem}{}{}
  \begin{enumerate}
    \item If $a \in G$, then $\ang{a} = \{ a^i : i \in \mathbb{Z} \}$.
    \item If $\abs{a} = n$, then $\ang{a} = \{ a^i : 0 \leq i < n \}$.
  \end{enumerate}
\end{lem}

\begin{thmproof}
  \begin{enumerate}
    \item Follows from previous proposition about $\ang{S}$.
    \item See argument for $\ang{s}$ in $D_{2n}$.
  \end{enumerate}
\end{thmproof}

Questions:
\begin{itemize}
  \item In (2), can $\abs{\ang{a}}$ be smaller than $n$?
  \item Does $\abs{\ang{a}}$ determine $\abs{a}$?
\end{itemize}

\pagebreak
\subsection{Order of cyclic groups}

\begin{prop}{}{}
  If $G = \ang{a}$, then $\abs{G} = \abs{a}$.
\end{prop}

\begin{thmproof}
  We've already seen that $\abs{G} \leq \abs{a}$.

  Suppose $\abs{G} = n < \infty$.

  The sequence $a^0, a^1, a^2, \ldots, a^n \in G$ must have repetition.
  So there are $0 \leq i < j \leq n$ with $a^i = a^j$, which means $a^{j - i} = e$ and hence
  $\abs{a} \leq n$.

  So $\abs{a} \leq \abs{G}$, thus $\abs{a} = \abs{G}$.
\end{thmproof}

\pagebreak
\subsection{Examples in closer detail}

\begin{ex}
  For $G = \mathbb{Z}$:
  \begin{itemize}
    \item Infinite cyclic group.
    \item Generators: $+1$ and $-1$.
    \item Order of $m \in \mathbb{Z}$ is
    \[ \abs{m} = \begin{cases}
      \infty \qquad & m \neq 0 \\
      1 & m = 0
    \end{cases}. \]
    \item Cyclic subgroups are $\ang{m} = m\mathbb{Z} = \{ km : k \in \mathbb{Z} \}$.
    (Note difference in $\ang{a}$ between additive and multiplicative notation.)

    Homework: all subgroups of $\mathbb{Z}$ are cyclic.
  \end{itemize}
\end{ex}

\begin{ex}
  Can we analyze $\Zmod{n}$ in the same way?

  (Note: at this point we may drop the brackets. For example, in $\Zmod{5}$, $3 = 8$.)

  Questions:
  \begin{itemize}
    \item What are the generators of $\Zmod{n}$?
    \item What are the orders of elements of $\Zmod{n}$?
    \item What are the subgroups?
  \end{itemize}
\end{ex}

\pagebreak
\subsection[Generators of Z mod nZ]{Generators of $\Zmod{n}$}

\begin{lem}{}{}
  Suppose $G = \ang{S}$.
  Then $G = \ang{T}$ if and only if $S \subseteq \ang{T}$.
\end{lem}

So $\Zmod{n} = \ang{[a]}$ if and only if $[1] \in \ang{[a]}$ (since $[1]$ is a
generator).
Note then
\begin{align*}
  [1] \in \ang{[a]} &\iff xa = 1 \pmod{n} \qquad \text{for some } x \in \mathbb{Z} \\
  &\iff xa - 1 = yn \qquad \text{for some } x, y \in \mathbb{Z} \\
  &\iff xa + yn = 1 \qquad \text{for some } x, y \in \mathbb{Z} \\
  &\iff \gcd(a, n) = 1
\end{align*}
so $\ang{[a]} = \Zmod{n}$ if and only if $\gcd(a, n) = 1$.

\pagebreak
\subsection[Order of elements in Z mod nZ]{Order of elements in $\Zmod{n}$}

\begin{lem}{}{}
  If $G$ is a group, $g \in G$, and $g^n = e$, then $\abs{g} \mid n$.
\end{lem}

\begin{thmproof}
  Homework.
\end{thmproof}

If $a \in \mathbb{Z}$, then $n[a] = 0$, so $\abs{[a]} \mid n$.

\begin{lem}{}{}
  Suppose $a \mid n$.
  Then $\abs{[a]} = \frac{n}{a}$.
\end{lem}

\begin{thmproof}
  If $n = ka$, then $\ell[a] \neq 0$ for $1 \leq \ell < k$ and $k[a] = [ka] = 0$, so
  $\abs{[a]} = k$.
\end{thmproof}

\begin{lem}{}{}
  Suppose $a \in \mathbb{Z}$ and let $b = \gcd(a, n)$.
  Then $\ang{[a]} = \ang{[b]}$.
\end{lem}

\begin{thmproof}
  Since $b \mid a$, there is $k$ such that $a = kb$.
  Thus $[a] \in \ang{[b]}$, so $\ang{[a]} \subseteq \ang{[b]}$.

  By properties of $\gcd$, there are $x, y \in \mathbb{Z}$ such that $xa + yn = b$.

  So $[b] = x[a] + y[n] = x[a]$, which implies $[b] \in \ang{[a]}$ and thus
  $\ang{[b]} \subseteq \ang{[a]}$.

  Hence $\ang{[a]} = \ang{[b]}$.
\end{thmproof}

\begin{prop}{}{}
  Suppose $a \in \mathbb{Z}$.
  Then
  \[ \abs{[a]} = \frac{n}{\gcd(a, n)}. \]
\end{prop}

\begin{thmproof}
  Let $b = \gcd(a, n)$.
  Then $\ang{[a]} = \ang{[b]}$.
  So
  \[ \abs{[a]} = \abs{\ang{[a]}} = \abs{\ang{[b]}} = \abs{[b]}. \]
  But $b \mid n$, so by lemma $\abs{[b]} = \frac{n}{b}$.
\end{thmproof}

\pagebreak
\subsection[Subgroups of Z mod nZ]{Subgroups of $\Zmod{n}$}

\begin{cor}{}{}
  Let $n \geq 1$.
  \begin{itemize}
    \item The order $d$ of any cyclic subgroup of $\Zmod{n}$ divides $n$.
    \item For every $d \mid n$, there is a unique cyclic subgroup of $\Zmod{n}$ of order $d$.
    It is generated by $[a]$, where $a = \frac{n}{d}$.
  \end{itemize}
\end{cor}

\begin{thmproof}
  If $\abs{\ang{[a]}} = d$, then $d = \abs{[a]} \mid n$ by lemma.

  Also, $d = \frac{n}{\gcd(a, n)}$, and by lemma, $\ang{[a]} = \ang{[\frac{n}{d}]}$.

  Conversely, if $d \mid n$ and $a = \frac{n}{d}$, then $\abs{\ang{[a]}} = d$.
\end{thmproof}

\begin{ex}
  Cyclic subgroups of $\Zmod{6}$:
  \begin{itemize}
    \item $\ang{6} = \{0\}$.
    \item $\ang{3} = \{0, 3\}$.
    \item $\ang{2} = \{0, 2, 4\} = \ang{4}$.
    \item $\ang{1} = \{0, 1, 2, 3, 4, 5\} = \Zmod{6} = \ang{5}$.
  \end{itemize}

  Cyclic subgroups of $\Zmod{p}$ where $p$ prime:
  \begin{itemize}
    \item $\ang{p} = \ang{0}$.
    \item $\ang{1} = \Zmod{p}$.
  \end{itemize}
\end{ex}

\pagebreak
\subsection{Proofs later}

\begin{itemize}
  \item Every subgroup of a cyclic group is cyclic.
  (So the previous corollary is a complete list of subgroups of $\Zmod{n}$.)
  \item Every cyclic group is isomorphic to one of $\Zmod{n}$ for $n \geq 1$, or $\mathbb{Z}$.
\end{itemize}

%%%%% Lec 5
\section{Homomorphisms}

\subsection{Homomorphisms}

\begin{defn}{homomorphism (morphism)}{homomorphism}
  Let $G$ and $H$ be groups.
  A function $\phi \colon G \to H$ is a \hldef{homomorphism} (or \hldef{morphism}) if
  \[ \phi(g \cdot h) = \phi(g) \cdot \phi(h) \]
  for all $g, h \in G$.
\end{defn}

A homomorphism preserves the group operation from $G$ to $H$.

\begin{ex}
  \begin{itemize}
    \item
    For $\mathbb{K}$ a field, $\mathbb{K}^\times = \{a \in \mathbb{K} : a \neq 0\}$ is a group with
    operation $\cdot$.

    Then $\GL_n \mathbb{K} \to \mathbb{K}^\times : A \mapsto \det(A)$ is a homomorphism because
    $\det(AB) = \det(A) \det(B)$ for all $A, B$.
    \item
    Let $\mathbb{R}_{> 0} = \{x \in \mathbb{R} : x > 0\} \leq \mathbb{R}^\times$.
    Then $\mathbb{R}_{> 0} \to \mathbb{R}_{> 0} : x \mapsto \sqrt{x}$ is a homomorphism since
    $\sqrt{xy} = \sqrt{x} \sqrt{y}$.
    \item
    Additive notation: $\phi \colon (G, +) \to (H, +)$ is a homomorphism if
    $\phi(x + y) = \phi(x) + \phi(y)$ for all $x, y \in G$.

    $\phi \colon \mathbb{Z} \to \mathbb{Z} : k \mapsto mk$ is a homomorphism for any
    $m \in \mathbb{Z}$ since $\phi(x + y) = m(x + y) = mx + my = \phi(x) + \phi(y)$ for all
    $x, y \in \mathbb{Z}$.
    \item
    If $V, W$ are vector spaces and $T \colon V \to W$ is a linear transformation, then $T$ is a
    homomorphism from $(V, +)$ to $(W, +)$ since $T(v + w) = T(v) + T(w)$ for all $v, w \in V$.
    \item
    Mixed notation: $\mathbb{R}^+ \to \mathbb{R}^\times : x \mapsto e^x$ is a homomorphism since
    $e^{x + y} = e^x \cdot e^y$ for all $x, y \in \mathbb{R}^+$.
    \item
    $\mathbb{R}^+ \to \mathbb{R}^+ : x \mapsto e^x$ is not a homomorphism because
    $e^{x + y} \neq e^x + e^y$ in general (take $x = y = 0$).
  \end{itemize}
\end{ex}

\begin{lem}{}{}
  Suppose $\phi \colon G \to H$ is a homomorphism.
  Then:
  \begin{enumerate}
    \item $\phi(e_G) = e_H$.
    \item $\phi(g^{-1}) = \phi(g)^{-1}$ for all $g \in G$.
    \item $\phi(g^n) = \phi(g)^n$ for all $n \in \mathbb{Z}$.
    \item $\abs{\phi(g)} \mid \abs{g}$ for all $g \in G$ (say $n \mid \infty$ for all
    $n \in \mathbb{N}$).
  \end{enumerate}
\end{lem}

\begin{thmproof}
  \begin{enumerate}
    \item
    $\phi(e_G) = \phi(e_G^2) = \phi(e_G) \cdot \phi(e_G)$, so
    $e_H = \phi(e_G)^{-1} \cdot \phi(e_G) = \phi(e_G)^{-1} \cdot \phi(e_G) \cdot \phi(e_G)
      = \phi(e_G)$.
    \item
    $e_H = \phi(e_G) = \phi(gg^{-1}) = \phi(g) \phi(g^{-1})$ and similarly
    $\phi(g^{-1}) \phi(g) = e_H$, so $\phi(g^{-1})$ is the unique inverse of $\phi(g)$.
    \item
    Use induction for $n \geq 0$, additionally with part (b) for $n < 0$.
    \item
    If $\abs{g} = n < \infty$, then $g^n = e_G$ so $\phi(g)^n = \phi(g^n) = \phi(e_G) = e_H$.
    Homework: prove $\abs{\phi(g)} \mid n$.
  \end{enumerate}
\end{thmproof}

\pagebreak
\subsection{Making new homomorphisms from old}

\begin{lem}{}{}
  If $H \leq G$ and $H$ is considered as a group with the induced operation from $G$, then
  $i \colon H \to G : x \mapsto x$ is a homomorphism.
\end{lem}

\begin{thmproof}
  $i(g \cdot h) = g \cdot h = i(g) \cdot i(h)$.
\end{thmproof}

\begin{lem}{}{}
  If $\phi \colon G \to M$ and $\psi \colon H \to K$ are homomorphisms, then $\psi \circ \phi$ is
  a homomorphism.
\end{lem}

\begin{thmproof}
  $(\psi \circ \phi)(g \cdot h) = \psi(\phi(g) \cdot \phi(h)) = \psi(\phi(g)) \cdot \psi(\phi(h))$.
\end{thmproof}

\begin{cor}{}{}
  If $\phi \colon G \to H$ is a homomorphism and $K \leq G$, then the \hldef{restriction}
  $\phi \rvert_K$ is a homomorphism.
\end{cor}

\begin{thmproof}
  $\phi \rvert_K = \phi \circ i$, where $i \colon K \to G$ is the inclusion $x \mapsto x$.
\end{thmproof}

\pagebreak
\subsection{Images of homomorphisms}

If $f \colon X \to Y$ is a function and $S \subseteq X$, then say $f(S) := \{ f(x) : x \in S \}$.

\begin{prop}{}{}
  If $\phi \colon G \to H$ is a homomorphism and $K \leq G$, then $\phi(K) \leq H$.
\end{prop}

That is, homomorphisms send subgroups of the domain to subgroups of the codomain.

\begin{thmproof}
  Since $K$ is non-empty, $\phi(K)$ is non-empty.

  If $x, y \in \phi(K)$, then $x = \phi(x_0)$ and $y = \phi(y_0)$ for some $x_0, y_0 \in K$.

  So $xy^{-1} = \phi(x_0)\phi(y_0)^{-1} = \phi(x_0)\phi(y_0^{-1}) = \phi(x_0 y_0^{-1}) \in \phi(K)$,
  since $x_0 y_0^{-1} \in K$.
\end{thmproof}

\begin{defn}{image}{image}
  If $\phi \colon G \to H$ is a homomorphism, the \hldef{image} of $\phi$ is the subgroup
  $\Im \phi = \phi(G) \leq H$.
\end{defn}

\begin{ex}
  \begin{itemize}
    \item
    Let $\phi \colon \mathbb{R}^+ \to \mathbb{R}^\times : x \mapsto e^x$.

    $e^x > 0$ for all $x \in \mathbb{R}$, so $\Im \phi \subseteq \mathbb{R}_{> 0}$.

    If $y \in \mathbb{R}_{> 0}$, then $y = \phi(\log y)$, so $\Im \phi = \mathbb{R}_{> 0}$.
    \item
    If $K \leq G$ and $i \colon K \to G$ is inclusion, then $\Im i = K$.
    \item
    For $\phi \colon \mathbb{Z} \to \mathbb{Z} : k \mapsto mk$ for some $m \in \mathbb{Z}$,
    $\phi(\mathbb{Z}) = m\mathbb{Z}$.
  \end{itemize}
\end{ex}

\pagebreak
\subsection{Properties of images}

\begin{lem}{}{}
  If $\phi \colon G \to H$ is a homomorphism with $\Im \phi \leq K \leq H$, then the function
  $\tilde{\phi} \colon G \to K : x \mapsto \phi(x)$ is also a homomorphism with
  $\Im \tilde{\phi} = \Im \phi \leq K$.
\end{lem}

\begin{thmproof}
  \begin{align*}
    \tilde{\phi}(x \cdot y) &= \phi(x \cdot y) \\
    &= \phi(x) \cdot \phi(y) \qquad \text{in } H \\
    &= \tilde{\phi}(x) \cdot \tilde{\phi}(y) \qquad \text{in } K.
  \end{align*}

  Also $\tilde{\phi}(G) = \phi(G)$, regarded as a subset of $K$.
\end{thmproof}

We usually just refer to $\tilde{\phi}$ as $\phi$.

\begin{lem}{}{}
  A homomorphism $\phi \colon G \to H$ is surjective if and only if $\Im \phi = H$.
\end{lem}

\begin{thmproof}
  Obvious from definition.
\end{thmproof}

\begin{cor}{}{}
  $\phi$ induces a surjective homomorphism $\tilde{\phi} \colon G \to K$, where $K = \Im \phi$.
\end{cor}

\begin{prop}{}{}
  Let $\phi \colon G \to H$ be a homomorphism.
  If $S \subseteq G$, then $\phi(\ang{S}) = \ang{\phi(S)}$.
\end{prop}

\begin{thmproof}
  First, $\phi(S^{-1}) = \{\phi(s^{-1}) : s \in S\} = \{\phi(s)^{-1} : s \in S\} = \phi(S)^{-1}$.
  Thus
  \begin{align*}
    \phi(\ang{S})
    &= \phi(\{ s_1 \cdots s_k : k \geq 0, \ s_1, \ldots, s_k \in S \cup S^{-1} \}) \\
    &= \{ \phi(s_1) \cdots \phi(s_k) : k \geq 0, \ s_1, \ldots, s_k \in S \cup S^{-1} \} \\
    &= \{ t_1 \cdots t_k : k \geq 0, \ t_1, \ldots, t_k \in \phi(S) \cup \phi(S)^{-1} \} \\
    &= \ang{\phi(S)}.
  \end{align*}
\end{thmproof}

\pagebreak
\subsection{Pulling back subgroups}

If $f \colon X \to Y$ is a function and $S \subseteq Y$, then say
$f^{-1}(S) := \{x \in X : f(x) \in S\}$.

\begin{prop}{}{}
  If $\phi \colon G \to H$ is a homomorphism and $K \leq H$, then $\phi^{-1}(K) \leq G$.
\end{prop}

That is, we can also get a subgroup of the domain from a subgroup of the codomain.

Note: the forward and backward processes are not necessarily inverses, so we don't have a bijection
(just yet).

\begin{thmproof}
  $\phi(e_G) = e_H \in K$, so $e_G \in \phi^{-1}(K)$.

  If $x, y \in \phi^{-1}(K)$, then $\phi(x), \phi(y) \in K$ so
  $\phi(x y^{-1}) = \phi(x) \phi(y)^{-1} \in K$ and hence $xy^{-1} \in \phi^{-1}(K)$.
\end{thmproof}

\pagebreak
\subsection{The kernel of a homomorphism}

\begin{defn}{kernel}{kernel}
  If $\phi \colon G \to H$ is a homomorphism, then the \hldef{kernel} of $\phi$ is the subgroup
  $\ker \phi := \phi^{-1}(\{e_H\}) = \{ g \in G : \phi(g) = e_H \} \leq G$.
\end{defn}

\begin{ex}
  \begin{itemize}
    \item
    For $\det \colon \GL_n(\mathbb{K}) \to \mathbb{K}^\times$, we have
    $\ker \det = \{ A \in \GL_n(\mathbb{K}) : \det(A) = 1 \}$.

    This subgroup of $\GL_n(\mathbb{K})$ is called the \hldef{special linear group}, denoted by
    $\SL_n(\mathbb{K})$.
    \item
    If $\phi \colon \mathbb{Z} \to \mathbb{Z} : k \mapsto mk$, then $\phi(k) = 0$ if and only if
    $mk = 0$, so
    \[ \ker \phi = \begin{cases}
      \{0\} \qquad & m \neq 0 \\
      \mathbb{Z} & m = 0
    \end{cases}. \]
    \item
    If $\phi \colon \mathbb{R}^+ \to \mathbb{R}^\times : x \mapsto e^x$, then $e^x = 1$ if and only
    if $x = 0$, so $\ker \phi = \{0\}$.
  \end{itemize}
\end{ex}

\begin{prop}{}{}
  A homomorphism $\phi \colon G \to H$ is injective if and only if $\ker \phi = \{e_G\}$.
\end{prop}

\begin{thmproof}
  \begin{enumerate}[leftmargin=4em]
    \item[($\implies$)]
    If $\phi$ is injective, then $\phi(x) = e_H = \phi(e_G)$ if and only if $x = e_G$, so
    $\ker \phi = \{e_G\}$.
    \item[($\impliedby$)]
    Suppose $\ker \phi = \{e_G\}$ and $\phi(x) = \phi(y)$.

    Then $\phi(xy^{-1}) = \phi(x)\phi(y)^{-1} = e_H$, so $xy^{-1} \in \ker \phi$.

    But then $xy^{-1} = e_G$, so $x = y$.
    That is, $\phi$ is injective.
  \end{enumerate}
\end{thmproof}

\pagebreak
\subsection{Application: subgroups of cyclic groups}

\begin{prop}{}{}
  If $H$ is a subgroup of a cyclic group $G$, then $H$ is cyclic.
\end{prop}

\begin{thmproof}
  We need the following facts:
  \begin{enumerate}
    \item All subgroups of $\mathbb{Z}$ are of the form $m\mathbb{Z} = \ang{m}$, hence cyclic.
    (Homework.)
    \item $G$ is cyclic if and only if there is a surjective homomorphism $\mathbb{Z} \to G$.
    (Homework.)
    \item If $f \colon X \to Y$ is a surjective function and $S \subseteq Y$, then
    $f(f^{-1}(S)) = S$.
    (Exercise.)
  \end{enumerate}

  Since $G$ is cyclic, by (2) there is a surjective homomorphism $\phi \colon \mathbb{Z} \to G$.

  By (1), since all subgroups of $\mathbb{Z}$ are cyclic, there is $m \in \mathbb{Z}$ such that
  $\phi^{-1}(H) = \ang{m}$.

  So let $\psi \colon \mathbb{Z} \to \mathbb{Z}$ be the homomorphism with $\psi(k) = mk$.

  Then $\phi \circ \psi \colon \mathbb{Z} \to G$ is a homomorphism.
  We see that
  \[ (\phi \circ \psi)(\mathbb{Z}) = \phi(m\mathbb{Z}) = \phi(\phi^{-1}(H)) = H \]
  by (3).

  We can restrict the codomain of $\phi \circ \psi$ to get a surjective homomorphism
  $\mathbb{Z} \to H$.
  Hence $H$ is cyclic by (2).
\end{thmproof}

\pagebreak
\subsection{Review on bijections}

\begin{defn}{bijection}{bijection}
  Let $f \colon X \to Y$ be a function.
  Then $f$ is:
  \begin{itemize}
    \item \hldef{injective} if for all $x_1, x_2 \in X$, $f(x_1) = f(x_2)$ implies that $x_1 = x_2$;
    \item \hldef{surjective} if for all $y \in Y$, there exists $x \in X$ with $f(x) = y$; and
    \item \hldef{bijective} if $f$ is both injective and surjective.
  \end{itemize}
\end{defn}

\begin{prop}{}{}
  $f \colon X \to Y$ is a bijection if and only if there is a function $g \colon Y \to X$ such that
  $f \circ g = 1_Y$ and $g \circ f = 1_X$.
\end{prop}

If $g$ exists, then it is unique, and we denote it by $f^{-1}$.

\pagebreak
\subsection{Isomorphisms}

\begin{defn}{isomorphism}{isomorphism}
  A homomorphism $\phi \colon G \to H$ is an \hldef{isomorphism} if $\phi$ is a bijection.
\end{defn}

\begin{lem}{}{}
  $\phi \colon G \to H$ is an isomorphism if and only if $\ker \phi = \{e_G\}$ and $\Im \phi = H$.
\end{lem}

\begin{ex}
  \begin{itemize}
    \item $\mathbb{R}^+ \to \mathbb{R}_{> 0} : x \mapsto e^x$ is an isomorphism.
    \item If $\phi \colon G \to H$ is injective, then $\phi$ induces an isomorphism $G \to \Im\phi$.
    \item $\mathbb{Z} \to m\mathbb{Z} : k \mapsto mk$ is an isomorphism.
  \end{itemize}
\end{ex}

\begin{prop}{}{}
  Suppose $\phi \colon G \to H$ is an isomorphism.
  Then $\phi^{-1} : H \to G$ is also an isomorphism.
\end{prop}

\begin{thmproof}
  $\phi^{-1}$ is also a bijection, so we just need to show that it is a homomorphism.

  Let $g, h \in H$.
  Then $\phi(\phi^{-1}(g) \cdot \phi^{-1}(h)) = \phi(\phi^{-1}(g)) \cdot \phi(\phi^{-1}(h))
    = g \cdot h$.

  So $\phi^{-1}(g) \cdot \phi^{-1}(h) = \phi^{-1}(g \cdot h)$.
  Hence $\phi^{-1}$ is a homomorphism.
\end{thmproof}

\begin{cor}{}{}
  A homomorphism $\phi \colon G \to H$ is an isomorphism if and only if there is a homomorphism
  $\psi \colon H \to G$ such that
  \begin{enumerate}
    \item $\psi \circ \phi = 1_G$, and
    \item $\phi \circ \psi = 1_H$.
  \end{enumerate}
\end{cor}

This shows isomorphisms are to homomorphisms as bijections are to functions.

\begin{thmproof}
  \begin{enumerate}[leftmargin=4em]
    \item[($\impliedby$)] If $\psi$ exists, then $\phi$ is a bijection.
    \item[($\implies$)] If $\phi$ is an isomorphism, then we can take $\psi = \phi^{-1}$.
  \end{enumerate}
\end{thmproof}

\begin{defn}{isomorphic}{isomorphic}
  We say that groups $G$ and $H$ are \hldef{isomorphic} if there is an isomorphism
  $\phi \colon G \to H$.

  Notation: $G \cong H$.
\end{defn}

Key facts:
\begin{itemize}
  \item If $G \cong H$, then $H \cong G$ (symmetry).

  Proof: If $\phi \colon G \to H$ is an isomorphism, then $\phi^{-1} \colon H \to G$ is an
  isomorphism.
  \item If $G \cong H$ and $H \cong K$, then $G \cong K$ (transitivity).

  Proof: If $\phi \colon G \to H$ is an isomorphism and $\psi \colon H \to K$ is an isomorphism,
  then $\psi \circ \phi$ is an isomorphism.
  \item $G \cong G$ (reflexivity).

  Proof: $1_G \colon G \to G$ is an isomorphism.
\end{itemize}

\pagebreak
\subsection{Isomorphism as a relation}

Idea: if $G \cong H$, then $G$ and $H$ are identical \emph{as groups}.

If $\phi \colon G \to H$ is an isomorphism, then:
\begin{itemize}
  \item $\abs{G} = \abs{H}$;
  \item $G$ is abelian if and only if $H$ is abelian;
  \item $\abs{g} = \abs{\phi(g)}$ for all $g \in G$;
  \item $K \subseteq G$ is a subgroup of $G$ if and only if $\phi(K)$ is a subgroup of $H$.
\end{itemize}

\pagebreak
\subsection{Isomorphisms of cyclic groups}

\begin{prop}{}{}
  If $G$ and $H$ are cyclic groups, then $G \cong H$ if and only if $\abs{G} = \abs{H}$.
\end{prop}

\begin{thmproof}
  The forward implication is obvious.

  Suppose $G = \ang{a}$ and $H = \ang{b}$ where $\abs{G} = \abs{H}$.

  Claim: $a^i = a^j$ for $i < j$ if and only if $\abs{a} \mid j - i$.

  Proof: if $a^i = a^j$ then $a^{j - i} = e$, apply the homework to finish.
  Conversely, if $\abs{a} \mid j - i$, then $j - i = k\abs{a}$.
  So $a^{j - i} = a^{k\abs{a}} = e$ and hence $a^j = a^i$.

  (Note: if $\abs{a} = \infty$, then $a^i \neq a^j$ for all $i \neq j \in \mathbb{Z}$.)

  Now define $\phi \colon G \to H : a^i \mapsto b^i$.

  Notice $\abs{a} = \abs{G} = \abs{H} = \abs{b}$.
  Then $a^i = a^j$ implies $\abs{a} \mid j - i$ implies $\abs{b} \mid j - i$ implies $b^i = b^j$, so
  $\phi$ is well-defined.

  We see $\phi(a^i \cdot a^j) = \phi(a^{i + j}) = b^{i + j} = b^i \cdot b^j
    = \phi(a^i) \cdot \phi(a^j)$ for all $a^i, a^j \in G$, so $\phi$ is a homomorphism.

  Similarly to above, $\psi \colon H \to G : b^i \mapsto a^i$ is well-defined and clearly an
  inverse to $\phi$.

  Thus $\phi$ is an isomorphism.
\end{thmproof}

\begin{cor}{}{}
  Suppose $G$ is a cyclic group.
  \begin{itemize}
    \item If $\abs{G} = \infty$, then $G \cong \mathbb{Z}$.
    \item If $\abs{G} = n < \infty$, then $G \cong \Zmod{n}$.
  \end{itemize}
\end{cor}

\begin{cor}{}{}
  Cyclic groups are abelian.
\end{cor}

\begin{exer}{}{}
  Prove the previous corollary without the corollary before it.
\end{exer}

\pagebreak
\subsection{Multiplicative notation for cyclic groups}

Sometimes it is convenient to use the multiplicative form of cyclic groups.

\begin{defn}{}{}
  Let $a$ be a formal indeterminate.
  Let
  \begin{itemize}
    \item $C_\infty = \{a^i : i \in \mathbb{Z}\}$ with $a^i \cdot a^j = a^{i + j}$; and
    \item $C_n = \{a^i : i \in \Zmod{n}\}$ with $a^i \cdot a^j = a^{i + j}$.
  \end{itemize}
\end{defn}

Of course, we have:
\begin{itemize}
  \item $C_\infty \cong \mathbb{Z}$ via $a^i \mapsto i$.
  \item $C_n \cong \Zmod{n}$ via $a^i \mapsto i$.
\end{itemize}

%%%%% Week 3
\week{Cosets, Lagrange's Theorem, and Products}

\section{Cosets and Lagrange's Theorem}

\subsection{Affine spaces}

Linear subspaces motivate the definition of subgroups.
Let $T \colon V \to W$ be a linear transformation (so $T$ is a homomorphism $(V, +) \to (W, +)$).
We get $\ker T = \{x \in V : T(x) = 0\}$ which are the ``solutions to $Tx = 0$''.
What are the solutions to $Tx = b$?

Note $Tx = b$ has a solution if and only if $b \in \Im T$.
If $b \in \Im T$ and $Tx = b$ has solution $x_0$, then all other solutions are of the form
$x_0 + x_1$ for $x_1 \in \ker T$.
We conclude the space of solutions has form $x_0 + \ker T$.
We call this an \hldef{affine subspace} (like a linear subspace, but may not contain 0).

\begin{defn}{coset}{coset}
  If $S \subseteq G$ and $g \in G$, we let
  \[ gS = \{gh : h \in S\} \quad \text{and} \quad Sg = \{hg : h \in S\}. \]
  If $H \leq G$, then $gH$ is called a \hldef{left coset} of $H$ in $G$ and $Hg$ is called a
  \hldef{right coset} of $H$ in $G$.
\end{defn}

For abelian groups, $gH = Hg$.
In additive notation, a coset of $H$ in $(G, +)$ is $g + H$.

\begin{ex}
  \begin{itemize}
    \item
    If $U$ is a subspace of vector space $(V, +, \cdot)$, cosets of $U$ are affine subspaces
    $v + U$ for $v \in V$.
    \item
    Given $m \in \mathbb{Z}$, cosets of $m\mathbb{Z}$ are sets
    \[
      a + m\mathbb{Z} = \{a + km : k \in \mathbb{Z}\} = \{x \in \mathbb{Z} : x \equiv a \mod{m}\}.
    \]
  \end{itemize}
\end{ex}

\pagebreak
\subsection{Cosets in the dihedral group}

Recall $D_{2n} = \{s^i r^j : 0 \leq i < n, \ j \in \{0, 1\}\}$.

Say $H = \ang{s} = \{e = s^0, s^1, \ldots, s^{n - 1}\}$.

The right cosets of $H$ are:
\begin{itemize}
  \item $He = H$
  \item $Hr = \{r, sr, \ldots, s^{n - 1}r\}$
  \item $Hs^i = \{s^i, s^{i + 1}, \ldots, s^{n - 1}, e, s^1, \ldots, s^{i - 1}\} = H$
  \item $Hs^i r = \{s^i r, s^{i + 1}r, \ldots, s^{n - 1}r, r, sr, \ldots, sr, \ldots, s^{i - 1}r\}
    = H$
\end{itemize}
Notice $D_{2n} = H \sqcup Hr$ where $\sqcup$ is disjoint union.

Exercise 1: use $rs = s^{-1}r$ to show $s^i r = rs^{-i}$ for all $i \in \mathbb{Z}$.

Exercise 2: if $S \subseteq G$ and $g, h \in G$, then $ghS = g(hS)$.

The left cosets of $H$ are:
\begin{itemize}
  \item $eH = H$
  \item $s^i H = H$
  \item $s^i r H = rs^{-i}H = rH$
\end{itemize}

Notice
\begin{align*}
  rH &= \{r, rs, rs^2, \ldots, rs^{n - 1}\} \\
  &= \{r, s^{-1}r, s^{-2}r, \ldots, s^{-n + 1}r\} \\
  &= \{r, s^{n - 1}r, s^{n - 2}r, \ldots, sr\} \\
  &= Hr
\end{align*}
so in this case, the left and right cosets are equal.

What about $K = \ang{r} = \{e, r\}$?

Left cosets: $rK = \{r, e\} = K$ and $s^iK = \{s^i, s^i r\} = s^i rK$.
We see the left cosets are $s^i K$ for $0 \leq i < n$, and
\[ D_{2n} = \bigsqcup_{i = 0}^{n - 1} s^i K. \]

Right cosets: $Kr = \{r, e\} = K$ and $Ks^i = \{s^i, rs^i\} = \{s^i, s^{-1}r\}$ and
$Ks^i r = \{s^i r, s^{-1}\} = Ks^{-1}$.
We see the right cosets are $K s^i$ for $0 \leq i < n$, and
\[ D_{2n} = \bigsqcup_{i = 0}^{n - 1} Ks^i. \]

In this case, the left and right cosets are not equal.

\pagebreak
\subsection{Sets of cosets}

\begin{defn}{set of cosets}{}
  If $H \leq G$, let
  \[ G/H = \{gH : g \in G\} = \{S \subseteq G: S = gH \text{ for some } g \in G\} \]
  be the \hldef{set of left cosets} of $H$ in $G$, and
  \[ H \setminus G = \{Hg: g \in G\} = \{S \subseteq G : S = Hg \text{ for some } g \in G\} \]
  be the \hldef{set of right cosets} of $H$ in $G$.
\end{defn}

We are very interested in trying to understand $G/H$ and $H \setminus G$.

\begin{ex}
  \begin{itemize}
    \item $D_{2n} / \ang{s} = \{\ang{s}, r\ang{s}\}$.
    \item $D_{2n} / \ang{r} = \{s^i \ang{r}, \ 0 \leq i < n\}$.
  \end{itemize}
\end{ex}

\begin{ex}
  Consider $n\mathbb{Z} \leq \mathbb{Z}$.
  Then
  \[ a + n\mathbb{Z} = \{x \in \mathbb{Z} : x \equiv a \mod{n}\} =: [a] \]
  so
  \begin{align*}
    \Zmod{n} &= \{a + n\mathbb{Z} : a \in \mathbb{Z}\} \\
    &= \{a + n\mathbb{Z} : 0 \leq a < n\} \\
    &= \{[a] : 0 \leq a < n\}.
  \end{align*}
\end{ex}

A big question for later: for which $H \leq G$ is $G/H$ a group?

\pagebreak
\subsection{Cosets of a kernel}

Suppose $\phi \colon G \to K$ is a homomorphism and let $H = \ker \phi$.
(Note $\phi(x) = b$ has a solution $x$ for $b \in K$ if and only if $b \in \Im \phi$.)

\begin{lem}{}{}
  Suppose $\phi(x_0) = b$.
  The set of solutions $\phi^{-1}(\{b\})$ to $\phi(x) = b$ is $x_0 H = H x_0$.
\end{lem}

\begin{thmproof}
  Suppose $\phi(x_1) = b$.
  Then $\phi(x_0^{-1} x_1) = b^{-1}b = e$, so $x_0^{-1}x_1 \in H$ and thus
  $x_1 = x_0(x_0^{-1}x_1) \in x_0 H$.

  Conversely, if $x_1 = x_0 h$ for $h \in H$, then $\phi(x_1) = \phi(x_0)\phi(h) = b$, so every
  element of $x_0 H$ is a solution.

  A similar argument using right cosets shows the set of solutions is also $Hx_0$.
\end{thmproof}

In this case, the left cosets are the right cosets.

\begin{prop}{}{}
  If $\phi \colon G \to K$ is a homomorphism, then there is a bijection between $G / \ker\phi$ and
  $\Im \phi$.
\end{prop}

\begin{thmproof}
  $g \cdot \ker\phi$ is the set of solutions to $\phi(x) = b$ where $b = \phi(g)$.

  As a result, $\phi(g \cdot \ker\phi) = \{b\}$ and $b \in \Im \phi$.

  In the other direction, $g \ker\phi = \phi^{-1}(\{b\})$.
\end{thmproof}

\begin{ex}
  Suppose $G = \mathbb{Z}$ and $K = \Zmod{n}$.

  From tutorial, there is a homomorphism $\phi \colon \mathbb{Z} \to \Zmod{n} : a \mapsto [a]$.
  We get $\ker\phi = n\mathbb{Z}$ and $\Im\phi = \Zmod{n}$.

  Then $\Zmod{n} = \{[a] : 0 \leq a < n\} = \{a + n\mathbb{Z} : 0 \leq a < n\}$, so
  $a + n\mathbb{Z}$ is the set of solutions of $[x] \equiv [a]$ in $\Zmod{n}$.
\end{ex}

\pagebreak
\subsection{Indexes and Lagrange's theorem}

Given $H \leq G$, how many left cosets does $H$ have?

\begin{defn}{index}{}
  The \hldef{index} of $H$ in $G$ is
  \[
    [G : H] = \begin{cases}
      \abs{G/H} \quad & G/H \text{ is finite} \\
      \infty & G/H \text{ is infinite}
    \end{cases}.
  \]
\end{defn}

\begin{thm}{Lagrange's theorem}{lagrange}
  If $H \leq G$, then $\abs{G} = [G : H] \cdot \abs{H}$.
\end{thm}

Why use left cosets in the definition?

\begin{prop}{}{}
  The function $\phi \colon G/H \to H \setminus G : S \mapsto S^{-1}$ is a bijection.
\end{prop}

\begin{thmproof}
  Suppose $S \in G/H$, so $S = gH$ for some $g \in G$.
  Then
  \begin{align*}
    S^{-1} &= \{(gh)^{-1} : h \in H\} \\
    &= \{h^{-1}g^{-1} : h \in H\} \\
    &= \{hg^{-1} : h \in H\} \\
    &= Hg^{-1}
  \end{align*}
  because $H \to H : h \mapsto h^{-1}$ is a bijection.
  So $\phi$ is well-defined, and a similar argument shows
  $\psi \colon H \setminus G \to G/H : S \mapsto S^{-1}$ is well-defined.

  Finally, $\psi$ is an inverse to $\phi$.
\end{thmproof}

\begin{cor}{}{}
  If $H \leq G$ then
  \[
    [G : H] = \begin{cases}
      \abs{H \setminus G} \quad & H \setminus G \text{ is finite} \\
      \infty & H \setminus G \text{ is infinite}
    \end{cases}.
  \]
\end{cor}

Results from Lagrange's theorem: if $H \leq G$, then $\abs{H}$ divides $\abs{G}$, and if $G$ is
finite, then $[G : H] = \frac{\abs{G}}{\abs{H}}$.

\begin{ex}
  \begin{itemize}
    \item $G = D_{2n}$, $H = \ang{s}$.
    Here, $\abs{D_{2n}} = 2n$, $\abs{H} = n$, so $[G : H] = 2$.
    \item $G = D_{2n}$, $H = \ang{r}$.
    Here, $\abs{D_{2n}} = 2n$, $\abs{H} = 2$, so $[G : H] = n$.
    \item $G = \mathbb{Z}$, $H = m\mathbb{Z}$.
    Here, $\abs{G} = \abs{H} = \infty$, but $[G : H] = \abs{\Zmod{m}} = m$.
    So $\abs{G} = [G : H] \abs{H}$, but we don't learn anything about $[G : H]$ from Lagrange's
    theorem.
  \end{itemize}
\end{ex}

\pagebreak
\subsection{Consequences of Lagrange's theorem}

\begin{cor}{}{}
  If $x \in G$, then $\abs{x}$ divides $\abs{G}$.
\end{cor}

\begin{thmproof}
  $\abs{x} = \abs{\ang{x}}$ and $\abs{\ang{x}}$ divides $\abs{G}$.
\end{thmproof}

\begin{prop}{}{}
  If $\abs{G}$ is prime, then $G$ is cyclic.
\end{prop}

\begin{thmproof}
  Let $x \in G$ and $x \neq e$.
  Then $\abs{x} \neq 1$, and $\abs{x} \mid \abs{G}$, so $\abs{x} = \abs{G}$.
  Then since $\abs{\ang{x}} = \abs{x} = \abs{G}$, we have $G = \ang{x}$ (since $G$ is finite).
\end{thmproof}

We can thus list out groups of small orders (up to isomorphism)\dots

\begin{center}
  \renewcommand{\arraystretch}{1.2}
  \begin{tabular}{c | c}
    Order & Known groups \\
    \hline
    1 & Trivial group \\
    2 & $\Zmod{2}$ \\
    3 & $\Zmod{3}$ \\
    4 & $\Zmod{4}$, ?? \\
    5 & $\Zmod{5}$ \\
    6 & $\Zmod{6}$, $D_6 = S_3$, ?? \\
    7 & $\Zmod{7}$ \\
    8 & $\Zmod{8}$, $D_8$, ?? \\
    9 & $\Zmod{9}$, ??
  \end{tabular}
\end{center}

\begin{cor}{}{}
  If $\phi \colon G \to K$ is a homomorphism, then $\abs{\Im \phi} = [G : \ker\phi]$, and hence
  divides $\abs{G}$.
\end{cor}

\begin{thmproof}
  There is a bijection $G / \ker\phi \to \Im\phi$, so $\abs{\Im\phi} = [G : \ker\phi]$ by
  definition.
  Lagrange's theorem then implies $\abs{\Im\phi}$ divides $\abs{G}$ (and $\abs{K}$).
\end{thmproof}

\begin{exer}{}{}
  If $G, K$ are groups, then $\phi \colon G \to K : g \mapsto e_K$ is a homomorphism (called the
  \hldef{trivial homomorphism}).
  Show $\phi \colon G \to K$ is the trivial homomorphism if and only if $\Im\phi = \{e\}$ (the
  trivial subgroup).
\end{exer}

As a result, if $G$ and $K$ have coprime order, then the only homomorphism $\phi \colon G \to K$ is
the trivial homomorphism.

\pagebreak
\subsection{Beginning to prove Lagrange's theorem}

Recall
\begin{align*}
  D_{2n} &= \{s^i r^j : 0 \leq i < n, \ j \in \{0, 1\}\} \\
  &= \ang{s} \sqcup r\ang{s} \\
  &= \bigsqcup_{i = 0}^{n - 1} s^i \ang{r}.
\end{align*}
Here, the cosets of $H$ are disjoint, so we can divide $G$ into $[G : H]$ sets of size $\abs{H}$.

Does this work in general?

\begin{prop}{}{}
  Let $H \leq G$ and suppose $g, k \in G$.
  Then the following are equivalent:
  \begin{enumerate}
    \item $g^{-1}k \in H$
    \item $k \in gH$
    \item $gH = kH$
    \item $gH \cap kH \neq \varnothing$
  \end{enumerate}
\end{prop}

Example: $H = hH$ if and only if $h \in H$ (using (3) and (1)).

\begin{thmproof}
  (1) $\implies$ (2): If $g^{-1}k = h \in H$, then $k = gh \in gH$.

  (2) $\implies$ (3): Suppose $k = gh$ for some $h \in H$.
  If $h' \in H$, then $kh' = g(hh') \in gH$ since $hh' \in H$.
  So $kh \subseteq gH$.
  Also $g = kh^{-1} \in kH$, so similarly $gH \subseteq kH$.

  (3) $\implies$ (4): If $gH = kH$, then $gH \cap kH = gH \neq \varnothing$ (since $g \in gH$).

  (4) $\implies$ (1): Suppose $x \in gH \cap kH$.
  Then $x = gh_1 = kh_2$ for $h_1, h_2 \in H$.
  So $g^{-1}k = h_1h_2^{-1} \in H$.
\end{thmproof}

\pagebreak
\subsection{Partitions}

\begin{defn}{partition}{}
  Let $X$ be a set.
  A \hldef{partition} of $X$ is a subset $\mathcal{Q}$ of $2^X$ such that
  \[
    \text{(a) } \bigcup_{S \in \mathcal{Q}} S = X \quad \text{and} \quad
    \text{(b) } S \cap T = \varnothing \text{ for all } S \neq T \in \mathcal{Q}.
  \]
\end{defn}

Equivalently, $\mathcal{Q}$ is a partition if $X = \bigsqcup_{S \in \mathcal{Q}} S$ or every element
of $X$ is contained in exactly one element of $\mathcal{Q}$.

We can show cosets partition $G$:

\begin{cor}{}{}
  If $H \leq G$, then $G/H$ is a partition of $G$.
\end{cor}

\begin{thmproof}
  $g \in gH$, so every element of $G$ belongs to some element of $G/H$.
  Then $\bigcup_{S \in G/H} S = G$.

  Suppose $S \neq T$ are in $G/H$.
  If $S \cap T \neq \varnothing$, then $S = T$ by (3) and (4) of the proposition.
  So $S \cap T = \varnothing$.
\end{thmproof}

We can also show cosets have the same size:

\begin{lem}{}{}
  If $S \subseteq G$ and $g \in G$, then $S \to gS : h \mapsto gh$ is a bijection.
\end{lem}

\begin{thmproof}
  Inverse is $gS \to S : h \mapsto g^{-1}h$.
\end{thmproof}

As a consequence, if $H$ is finite and $g \in G$, then $\abs{gH} = \abs{H}$.

\pagebreak
\subsection{Proof of Lagrange's theorem}

\begin{thmproof}[Proof (Lagrange's theorem).]
  If $\abs{H} = \infty$ then $\abs{G} = \infty$.

  Since cosets are disjoint, if $[G : H] = \infty$ then $\abs{G} = \infty$.

  Now suppose $\abs{H}$ and $[G : H]$ are finite.
  By lemma, $\abs{gH} = \abs{H}$ for all $g \in G$.
  Since $G/H$ is a partition of $G$, $G$ is a disjoint union of $[G : H]$ subsets all of size
  $\abs{H}$.

  So $\abs{G} = [G : H] \abs{H}$.
\end{thmproof}

\pagebreak
\subsection{Equivalence relations}

\begin{defn}{relation}{}
  A \hldef{relation} $\sim$ on a set $X$ is a subset of $X \times X$.

  Notation: $a \sim b$ if $(a, b) \in \mathop{\sim}$.
\end{defn}

\begin{ex}
  \begin{itemize}
    \item $=$ on $X$
    \item $\leq, <, >, \geq$ on $\mathbb{N}$ (or any ordered set)
    \item $\subseteq$ on $2^X$
  \end{itemize}
\end{ex}

\begin{defn}{equivalence relation}{}
  A relation $\sim$ on $X$ is an \hldef{equivalence relation} if
  \begin{itemize}
    \item $x \sim x$ for all $x \in X$ (reflexivity)
    \item $x \sim y \implies y \sim x$ for all $x, y \in X$ (symmetry)
    \item $x \sim y \text{ and } y \sim z \implies x \sim z$ for all $x, y, z \in X$ (transitivity).
  \end{itemize}
\end{defn}

\begin{ex}
  \begin{itemize}
    \item $=$ on $X$
    \item $\equiv_m$ (congruence mod $m$) on $\mathbb{Z}$
    \item not $\leq, <, >, \geq$ on $\mathbb{N}$, $\mathbb{R}$, etc.
    \item isomorphism $\cong$ on the \emph{proper class} of groups
  \end{itemize}
\end{ex}

\pagebreak
\subsection{Equivalence classes}

\begin{defn}{equivalence class}{}
  If $\sim$ is an equivalence relation on $X$, the \hldef{equivalence class} of $x \in X$ is
  $[x] = [x]_\sim := \{y \in X : x \sim y\}$.
\end{defn}

\begin{prop}{}{}
  Let $\sim$ be an equivalence relation on $X$.
  If $x, y \in X$ then the following are equivalent:
  \begin{enumerate}
    \item $x \sim y$
    \item $y \in [x]$
    \item $[x] = [y]$
    \item $[x] \cap [y] \neq \varnothing$
  \end{enumerate}
\end{prop}

\begin{thmproof}
  (1) $\implies$ (2): By definition.

  (2) $\implies$ (3): If $z \in [y]$, then $x \sim y \sim z \implies z \in [x]$, so
  $[y] \subseteq [x]$.
  Also $x \sim y \implies y \sim x \implies [x] \subseteq [y]$.

  (3) $\implies$ (4): $[x] \cap [y] = [x] \supseteq \{x\} \neq \varnothing$.

  (4) $\implies$ (1): If $z \in [x] \cap [y]$, then $x \sim z \sim y \implies x \sim y$.
\end{thmproof}

Equivalence relations yield partitions:

\begin{cor}{}{}
  If $\sim$ is an equivalence relation on $X$, then $\{[x]_\sim : x \in X\}$ is a partition of $X$.
\end{cor}

Partitions yield equivalence relations:

\begin{cor}{}{}
  If $\mathcal{Q}$ is a partition of $X$, then there is an equivalence relation $\sim$ on $X$ such
  that $\{[x]_\sim : x \in X\} = \mathcal{Q}$.
\end{cor}

\begin{thmproof}
  Every element $x \in X$ is contained in a unique set $S_x \in \mathcal{Q}$.
  Define $\sim$ by saying $x \sim y \iff S_x = S_y$.
\end{thmproof}

Let's apply this to cosets:

\begin{prop}{}{}
  If $H \leq G$, define a relation $\sim_H$ on $G$ by $g \sim_H k$ if $g^{-1}k \in H$.
  Then $\sim_H$ is an equivalence relation, and the equivalence class of $g \in G$ is $[g] = gH$.
\end{prop}

For example, $h \sim e$ if and only if $h \in H$.

%%%%% Lec 07
\section{Normal subgroups}

\subsection{When is a left coset a right coset?}

From before:

\begin{prop}{}{}
  Let $H \leq G$ and suppose $g, k \in G$.
  Then the following are equivalent:
  \begin{enumerate}
    \item $g^{-1}k \in H$
    \item $k \in gH$
    \item $gH = kH$
    \item $gH \cap kH \neq \varnothing$
  \end{enumerate}
\end{prop}

By symmetry:

\begin{prop}{}{}
  Let $H \leq G$ and suppose $g, k \in G$.
  Then the following are equivalent:
  \begin{enumerate}
    \item $k^{-1}g \in H$
    \item $k \in Hg$
    \item $Hg = Hk$
    \item $Hg \cap Hk \neq \varnothing$
  \end{enumerate}
\end{prop}

Caution: $g^{-1}k \in H$ does not necessarily imply $kg^{-1} \in H$.

\begin{lem}{}{}
  If $H \leq G$ and $Hg = hH$ for $g, h \in G$, then $gH = Hg$.
\end{lem}

\begin{thmproof}
  $g \in Hg = hH$, so $gH = hH$.
\end{thmproof}

\begin{defn}{normal subgroup}{}
  A subgroup $N \leq G$ is a \hldef{normal subgroup} if $gN = Ng$ for all $g \in G$.

  Notation: $N \trianglelefteq G$.
\end{defn}

\pagebreak
\subsection{Conjugation and set multiplication}

\begin{defn}{conjugate}{}
  If $g, h \in G$, then \hldef{conjugate} of $h$ by $g$ is $ghg^{-1}$.
\end{defn}

Conjugates come up in change of basis and diagonalization in linear algebra.

Note $gSg^{-1} = \{ghg^{-1} : h \in S\}$.
We also get $gN = Ng$ if and only if $gNg^{-1} = N$.

Also, $S \subseteq T$ if and only if $gS \subseteq gT$ if and only if $Sg \subseteq Tg$.

\pagebreak
\subsection{Equivalent characterizations of normal subgroups}

\begin{prop}{}{}
  Let $N \leq G$.
  Then the following are equivalent:
  \begin{multicols}{2}
    \begin{enumerate}
      \item $N \trianglelefteq G$ ($gN = Ng$ for all $g \in G$)
      \item $gNg^{-1} = N$ for all $g \in G$
      \item $gNg^{-1} \subseteq N$ for all $g \in G$
      \item $G/N = N \setminus G$
      \item $G/N \subseteq N \setminus G$
      \item $N \setminus G \subseteq G/N$
    \end{enumerate}
  \end{multicols}
\end{prop}

\begin{thmproof}
  We've already done (1) $\iff$ (2).

  Clearly (2) $\implies$ (3).

  For (3) $\implies$ (2), suppose $gNg^{-1} \subseteq N$ for all $g \in G$.
  Given $g \in G$, we know $g^{-1}Ng \subseteq N$, so $N \subseteq gNg^{-1}$.
  Hence $N = gNg^{-1}$.

  Clearly (1) $\implies$ (4) $\implies$ (5) and (6).

  For (5) $\implies$ (1), suppose $G/N \subseteq N \setminus G$.
  If $g \in G$, then $gN = Nh$ for some $h \in G$.
  By lemma, $gN = Ng$.

  (6) $\implies$ (1) is similar.
\end{thmproof}

\begin{ex}
  \begin{itemize}
    \item
    $\ang{s} \leq D_{2n}$: we already saw $G/\ang{s} = \ang{s} \setminus G$.
    So $\ang{s} \trianglelefteq D_{2n}$.
    We can also check $s^i\ang{s}s^{-i} = \ang{s}$ and $r\ang{s}r^{-1} = \ang{s}$ (since
    $rs^ir^{-1} = s^{-i}$).
    \item
    $\ang{r} \leq D_{2n}$: $G/\ang{r} \neq \ang{r} \setminus G$, so $\ang{r}$ is not normal.
    Indeed, $srs^{-1} = s^2r \not\in \ang{r}$ for $n \geq 3$.
    \item
    If $G$ is abelian, then all subgroups are normal.
    \item
    If $\phi \colon G \to K$ is a homomorphism, then $\ker\phi$ is normal.

    Previous proof: $G/\ker\phi$ is the set of solution sets to equations $\phi(x) = b$ where
    $b \in \Im\phi$, which is $\ker\phi \setminus G$.

    Alternative: if $x \in \ker\phi$ and $g \in G$, then we have
    $\phi(gxg^{-1}) = \phi(g)\phi(x)\phi(g^{-1}) = \phi(g)\phi(g)^{-1} = e$, so
    $gxg^{-1} \in \ker\phi \implies g(\ker\phi)g^{-1} \subseteq \ker\phi$.
  \end{itemize}
\end{ex}

\pagebreak
\subsection{Warning: normal subgroups are not transitive}

The subgroup relation $\leq$ is transitive: if $H \leq G$ and $K \leq H$, then $K \leq G$.
(Usually we just say $K \leq H \leq G \implies K \leq G$.)

The normal subgroup relation $\trianglelefteq$ is not transitive: consider
$H = \ang{r, s^2} \leq D_8$.
Then $rs^2 = s^{4 - 2}r = s^2 r \implies rs^2r^{-1} = s^2$.
Exercise: check $H \trianglelefteq D_8$.
From the homework, $H$ is abelian so $\ang{r} \trianglelefteq H$.
But $\ang{r} \not\trianglelefteq D_8$.

\pagebreak
\subsection{Normalizers}

\begin{defn}{normalizer}{}
  Let $S \subseteq G$.
  Then $N_G(S) := \{g \in G : gSg^{-1} = S\}$ is called the \hldef{normalizer} of $S$ in $G$.
\end{defn}

\begin{lem}{}{}
  $N_G(S) \leq G$.
\end{lem}

\begin{thmproof}
  $eSe = S$, so $e \in N_G(S)$.

  If $g, h \in N_G(S)$, then $ghS(gh)^{-1} = g(hSh^{-1})g^{-1} = gSg^{-1} = S$ so $gh \in N_G(S)$.

  If $g \in N_G(S)$, then $g^{-1}Sg = g^{-1}(gSg^{-1})g = eSe = S$, so $g^{-1} \in N_G(S)$.
\end{thmproof}

\begin{lem}{}{}
  Suppose $H \leq G$.
  Then $H \trianglelefteq G$ if and only if $N_G(H) = G$.
\end{lem}

\begin{cor}{}{}
  If $G = \ang{S}$ and $H \leq G$, then $H \trianglelefteq G$ if and only if $gHg^{-1} = H$ for all
  $g \in S$.
\end{cor}

\begin{thmproof}
  $H \trianglelefteq G$ if and only if $N_G(H) = G$ if and only if $S \subseteq N_G(H)$ (the
  normalizer is a subgroup of $G$, so it is equal to $G$ iff it contains the generators of $G$).
\end{thmproof}

Warning: it is possible to have $gHg^{-1} \subseteq H$ and $g \not\in N_G(H)$.

\begin{lem}{}{}
  If $\abs{g} < \infty$ and $gHg^{-1} \subseteq H$, then $g \in N_G(H)$.
\end{lem}

\begin{thmproof}
  Induction: if $gHg^{-1} \subseteq H$, then $g^iHg^{-i} \subseteq H$ for all $i \geq 0$.

  If $\abs{g} = n < \infty$, then $g^{-1}Hg = g^{n - 1}Hg^{-(n - 1)} \subseteq H$.
  Hence $H \subseteq gHg^{-1}$, so $gHg^{-1} = H$.
\end{thmproof}

\begin{cor}{}{}
  Suppose $G = \ang{S}$ is finite and $H \leq G$.
  If $gHg^{-1} \subseteq H$ for all $g \in S$, then $H \trianglelefteq G$.
\end{cor}

\pagebreak
\subsection{Centres}

\begin{defn}{centre}{}
  If $G$ is a group, the \hldef{centre} of $G$ is
  $Z(G) = \{g \in G : gh = hg \text{ for all } h \in G\}$.
\end{defn}

That is, $Z(G)$ is the set of elements in $G$ which commute with all elements in $G$.

\begin{ex}
  $Z(\GL_n\mathbb{C}) = \{\lambda I_n : \lambda \neq 0\}$.
\end{ex}

\begin{prop}{}{}
  $Z(G) \trianglelefteq G$.
\end{prop}

\begin{thmproof}[Proof (exercise).]
  $eh = he$ for all $h \in G$, so $e \in Z(G)$.

  If $g, h \in Z(G)$ and $k \in G$, then $ghk = gkh = kgh$ so $gh \in Z(G)$.

  If $g \in Z(G)$ and $k \in G$, then $gk = kg \implies k = g^{-1}kg \implies kg^{-1} = g^{-1}k$ so
  $g^{-1} \in Z(G)$.

  Thus $Z(G) \leq G$.

  By definition, we clearly have $kZ(G) = Z(G)k$ for all $k \in G$, so $Z(G) \trianglelefteq G$.
\end{thmproof}

%%%%% Lec 08
\section{Product groups}

\subsection{Getting more groups}

\begin{prop}{}{}
  Suppose $(G_1, \cdot_1)$ and $(G_2, \cdot_2)$ are groups.
  Then $G_1 \times G_2$ is a group under operation
  \[ (g_1, g_2) \cdot (h_1, h_2) = (g_1 \cdot_1 h_1, g_2 \cdot_2 h_2) \]
  for $g_i, h_i \in G_i$ where $i = 1, 2$.
\end{prop}

\begin{thmproof}[Proof (homework).]
  Since $G_1$ and $G_2$ are groups, they are closed under $\cdot_1$ and $\cdot_2$ respectively, so
  $\cdot$ is clearly a binary operation on $G_1 \times G_2$ by construction.
  Furthermore, $\cdot_1$ and $\cdot_2$ are associative, so $\cdot$ is clearly associative by
  construction.

  Letting $e_1 = e_{G_1}$ and $e_2 = e_{G_2}$, we see
  \[
    (e_1, e_2) \cdot (g_1, g_2) = (g_1, g_2) = (g_1, g_2) \cdot (e_1, e_2)
  \]
  for all $g_1 \in G_1$ and $g_2 \in G_2$, so $(e_1, e_2)$ is an identity in $G_1 \times G_2$.

  For $(g_1, g_2) \in G_1 \times G_2$, we know $(g_1^{-1}, g_2^{-1}) \in G_1 \times G_2$ and
  \[
    (g_1, g_2) \cdot (g_1^{-1}, g_2^{-1}) = (e_1, e_2) = (g_1^{-1}, g_2^{-1}) \cdot (g_1, g_2)
  \]
  so $(g_1, g_2)$ has an inverse in $G_1 \times G_2$, namely $(g_1^{-1}, g_2^{-1})$.
\end{thmproof}

\begin{defn}{product group}{}
  If $G_1, G_2$ are groups, the group $G_1 \times G_2$ with the operation from the above
  proposition is called the \hldef{product} of $G_1$ and $G_2$.
\end{defn}

\begin{ex}[Example: Klein 4-group]
  Obviously $\abs{G_1 \times G_2} = \abs{G_1} \cdot \abs{G_2}$, so the group
  $\Zmod{2} \times \Zmod{2}$ has order 4.
  We call this the \hldef{Klein 4-group}.

  The group's multiplication table is
  \[
    \begin{array}{c|cccc}
             & (0, 0) & (0, 1) & (1, 0) & (1, 1) \\
      \hline
      (0, 0) & (0, 0) & (0, 1) & (1, 0) & (1, 1) \\
      (0, 1) & (0, 1) & (0, 0) & (1, 1) & (1, 0) \\
      (1, 0) & (1, 0) & (1, 1) & (0, 0) & (0, 1) \\
      (1, 1) & (1, 1) & (1, 0) & (0, 1) & (0, 0)
    \end{array}
  \]
  so all elements have order 2 and thus the group is not cyclic.

  The identity is $(0, 0)$.
  In general, $e_{G_1 \times G_2} = (e_{G_1}, e_{G_2})$.
\end{ex}

\pagebreak
\subsection{Two subgroups of a product}

\begin{prop}{}{}
  Suppose $G = H \times K$.
  Let $\tilde{H} = \{(h, e_K) : h \in H\}$ and $\tilde{K} = \{(e_H, k): k \in K\}$.
  Then
  \begin{enumerate}
    \item $\tilde{H}, \tilde{K} \leq G$.
    \item $H \to \tilde{H} : h \mapsto (h, e)$ and $K \to \tilde{K} : k \mapsto (e, k)$ are
    isomorphisms.
  \end{enumerate}
\end{prop}

\begin{thmproof}[Proof (homework).]
\end{thmproof}

So we can think of $H$ and $K$ as subgroups of $H \times K$.
Note $H \times K$ can have many other subgroups as well.

Compactly, we can write $\tilde{H} = H \times \{e\} \leq H \times K$ and
$\tilde{K} = \{e\} \times K \leq H \times K$.

These subgroups commute.
\begin{lem}{}{}
  If $h \in \tilde{H}$ and $k \in \tilde{K}$, then $hk = kh$.
\end{lem}

\begin{thmproof}[Proof (homework).]
  For clarity, say $\tilde{h} = (h, e) \in \tilde{H}$ and $\tilde{k} = (e, k) \in \tilde{K}$.
  Then
  \[
    \tilde{h}\tilde{k} = (h, e) \cdot (e, k) = (h, k) = (e, k) \cdot (h, e) = \tilde{k}\tilde{h}.
  \]
\end{thmproof}

\begin{cor}{}{}
  If $\phi \colon H \times K \to G$ is a homomorphism, then $\phi(h)\phi(k) = \phi(k)\phi(h)$ for
  all $h \in \tilde{H}$ and $k \in \tilde{K}$.
\end{cor}

This is a simple result, but we can actually prove a version equivalent to the converse as well.

\pagebreak
\subsection{Homomorphisms between products}

\begin{lem}{}{}
  If $\alpha \colon H \to G$ and $\beta \colon K \to G$ are homomorphisms such that
  $\alpha(h)\beta(k) = \beta(k)\alpha(h)$ for all $h \in H$ and $k \in K$, then
  $\gamma \colon H \times K \to G : (h, k) \mapsto \alpha(h)\beta(k)$ is a homomorphism.
\end{lem}

\begin{thmproof}
  For all $x, z \in H$ and $y, w \in K$:
  \begin{align*}
    \gamma((x, y) \cdot (z, w))
    &= \gamma((xz, yw)) \\
    &= \alpha(xz)\beta(yw) \\
    &= \alpha(x)\alpha(z)\beta(y)\beta(w) \\
    &= \alpha(x)\beta(y)\alpha(z)\beta(w) \\
    &= \gamma(x, y)\gamma(z, w).
  \end{align*}
\end{thmproof}

Notation: the homomorphism $\gamma$ is called $\alpha \cdot \beta$ (not entirely standard).

\begin{cor}{}{}
  If $\alpha \colon H \to H'$ and $\beta \colon K \to K'$ are homomorphisms, then
  $\gamma \colon H \times K \to H' \times K' : (h, k) \mapsto (\alpha(h), \beta(k))$ is a
  homomorphism.
\end{cor}

\begin{thmproof}
  Define $\tilde{\alpha} \colon H \to H' \times K' : h \mapsto (\alpha(h), e)$ and
  $\tilde{\beta} \colon K \to H' \times K' : k \mapsto (e, \beta(h))$.

  From the homework, $\tilde{\alpha}$ and $\tilde{\beta}$ are homomorphisms, and that
  $\tilde{\alpha}(x)\tilde{\beta}(y) = \tilde{\beta}(y)\tilde{\alpha(x)}$ for all $x \in H$ and
  $y \in K$.

  Then $\gamma((x, y)) = (\alpha(x), e) \cdot (e, \beta(y))
    = \tilde{\alpha}(x) \cdot \tilde{\beta(y)}$ so $\gamma = \tilde{\alpha} \cdot \tilde{\beta}$.
\end{thmproof}

Notation: the homomorphism $\gamma$ is called $\alpha \times \beta$ (more standard).

\begin{cor}{}{}
  If $\alpha \colon H \to H'$ and $\beta \colon K \to K'$ are isomorphisms, then
  $\alpha \times \beta \colon H \times K \to H' \times K'$ is an isomorphism.
\end{cor}

\begin{thmproof}
  $\alpha \times \beta$ has inverse $\alpha^{-1} \times \beta^{-1}$.
\end{thmproof}

\begin{prop}{}{}
  $G \to G \times \{e\} : g \mapsto (g, e)$ is an isomorphism.
\end{prop}

\begin{thmproof}
  See homework for equivalent proof.
\end{thmproof}

\pagebreak
\subsection{Groups of small order (revised)}

We can use products to complete the list of groups of order $p^2$.

\begin{prop}{}{}
  Suppose $p$ is prime and $\abs{G} = p^2$.
  Then either $G$ is cyclic, or $G \cong (\Zmod{p}) \times (\Zmod{p})$.
\end{prop}

\begin{thmproof}[Proof (homework).]
  % Suppose $G$ is not cyclic.
  % Since $p^2 \geq 4$, take $g \in G$ where $g \neq e$.
  % By lemma, $\abs{g}$ divides $\abs{G} = p^2$, so $\abs{g} \in \{1, p, p^2\}$.
  % But $\abs{g} = 1$ if and only if $g = e$ and $\abs{g} = p^2 = \abs{G}$ if and only if $G$ is
  % cyclic, so $\abs{g} = p$.

  % Then $\abs{\ang{g}} = p$ and $G$ is finite, so by Lagrange's theorem
  % \[
  %   \frac{\abs{G}}{\abs{\ang{g}}} = [G : \ang{g}] = p.
  % \]
  % Thus there are $p$ left cosets of $\ang{g}$, which we know partition $G$.
  % So letting $h \in G \setminus \ang{g}$, we can write
  % \[
  %   G = \bigsqcup_{i = 0}^{p - 1} h^i \ang{g}
  %     = \bigsqcup_{i = 0}^{p - 1} \{ h^i g^j : 0 \leq j < p \}
  %     = \{ h^i g^j : 0 \leq i < p, \ 0 \leq j < p \}.
  % \]
\end{thmproof}

\begin{center}
  \renewcommand{\arraystretch}{1.2}
  \begin{tabular}{c | c}
    Order & Known groups \\
    \hline
    1 & Trivial group \\
    2 & $\Zmod{2}$ \\
    3 & $\Zmod{3}$ \\
    4 & $\Zmod{4}$, $(\Zmod{2}) \times (\Zmod{2})$ \\
    5 & $\Zmod{5}$ \\
    6 & $\Zmod{6}$, $D_6 = S_3$, ?? \\
    7 & $\Zmod{7}$ \\
    8 & $\Zmod{8}$, $D_8$, ?? \\
    9 & $\Zmod{9}$, $(\Zmod{3}) \times (\Zmod{3})$
  \end{tabular}
\end{center}

\pagebreak
\subsection{How do we know if a group is a product?}

Recall:
\begin{prop}{}{}
  Suppose $G = H \times K$.
  Let $\tilde{H} = \{(h, e_K) : h \in H\}$ and $\tilde{K} = \{(e_H, k): k \in K\}$.
  Then
  \begin{enumerate}
    \item $\tilde{H}, \tilde{K} \leq G$.
    \item $H \to \tilde{H} : h \mapsto (h, e)$ and $K \to \tilde{K} : k \mapsto (e, k)$ are
    isomorphisms.
  \end{enumerate}
\end{prop}

Corollary: $H \times K \to \tilde{H} \times \tilde{K} : (h, k) \mapsto ((h, e), (e, k))$ is an
isomorphism.

Other properties of $\tilde{H}$ and $\tilde{K}$ (homework):
\begin{itemize}
  \item If $h \in \tilde{H}$ and $k \in \tilde{K}$, then $hk = kh$.
  \item Every $g \in G$ can be written as $g = \tilde{h}\tilde{k}$ for unique
    $\tilde{h} \in \tilde{H}$ and $\tilde{k} \in \tilde{K}$.
\end{itemize}

\pagebreak
\subsection{Unique factorizations}

Given $S, T \subseteq G$, let $ST = \{gh : g \in S, \ h \in T\}$.

\begin{lem}{}{}
  $G = ST$ if and only if every $g \in G$ can be written as $g = hk$ for some $h \in S$ and
  $k \in T$.
\end{lem}

Example: $D_{2n} = \{s^i r^j\} = \ang{s}\ang{r}$.

Question: if $G = HK$ for $H, K \leq G$, when does $g = hk$ for unique $h \in H$ and $k \in K$?
(Uniqueness means that if $g = hk = h'k'$ for $h, h' \in H$ and $k, k' \in K$, then $h = h'$ and
$k = k'$.)

Notice if $e \neq g \in H \cap K$, then $g = ge = eg$ so the factorization is not unique.
So a necessary condition for unique factorization is that $H \cap K = \{e\}$.
This is actually sufficient:

\begin{lem}{}{}
  Suppose $G = HK$ for $H, K \leq G$ for $H, K \leq G$.
  Then every element $g \in G$ can be written as $g = hk$ for unique $h \in H$ and $k \in K$ if and
  only if $H \cap K = \{e\}$.
\end{lem}

\begin{thmproof}
  We already proved $H \cap K = \{e\}$ is necessary.

  Suppose $H \cap K = \{e\}$.
  If $g = hk = h'k'$, then $(h')^{-1}h = k'k^{-1} \in H \cap K$.
  So $(h')^{-1}h = k'k^{-1} = e$ implying $h = h'$ and $k = k'$.
\end{thmproof}

\pagebreak
\subsection{Internal (direct) products}

\begin{defn}{internal direct product}{}
  $G$ is the \hldef{internal direct product} of subgroups $H, K \leq G$ if
  \begin{enumerate}
    \item $HK = G$,
    \item $H \cap K = \{e\}$, and
    \item $hk = kh$ for all $h \in H$ and $k \in K$.
  \end{enumerate}
\end{defn}

\begin{ex}
  \begin{itemize}
    \item $H \times K$ is the internal direct product of $\tilde{H} = H \times \{e\}$ and
      $\tilde{K} = \{e\} \times K$.
    \item $D_{2n}$ is not the internal direct product of $\ang{s}$ and $\ang{r}$ because
      $sr \neq rs$.
  \end{itemize}
\end{ex}

\begin{thm}{}{}
  Suppose $G$ is the internal direct product of $H$ and $K$.
  Then $\phi \colon H \times K \to G : (h, k) \mapsto hk$ is an isomorphism.
\end{thm}

\begin{thmproof}
  Let $i_H \colon H \to G : h \mapsto h$ and $i_K \colon K \to G : k \mapsto k$.
  By part (3) of the definition, $i_H(h) i_K(k) = i_K(k) i_H(h)$ for all $h \in H$ and $k \in K$, so
  $\phi = i_H \cdot i_K$ is a homomorphism.

  By lemma, every element $g \in G$ can be written as $g = hk$ for unique $h \in H$ and $k \in K$.
  Thus $\phi$ is a bijection.
\end{thmproof}

\pagebreak
\subsection{A weaker condition}

\begin{lem}{}{}
  If $G$ is an internal direct product of $H$ and $K$, then $H, K \trianglelefteq G$.
\end{lem}

\begin{thmproof}
  Suppose $g \in G$, so $g = hk$ for $h \in H$ and $k \in K$.
  Then $kHk^{-1} = \{khk^{-1} : h \in H\} = \{kk^{-1}h : h \in H\} = H$, so
  $gHg^{-1} = hkHk^{-1}h^{-1} = hHh^{-1} \subseteq H$.
  Then $H \trianglelefteq G$.

  Similar for $K$.
\end{thmproof}

\begin{prop}{}{}
  $G$ is the internal direct product of $H, K \leq G$ if and only if
  \begin{enumerate}
    \item $G = HK$,
    \item $H \cap K = \{e\}$, and
    \item $H, K \trianglelefteq G$.
  \end{enumerate}
\end{prop}

\begin{defn}{commutator}{}
  The \hldef{commutator} of $g, h \in G$ is $[g, h] := g \cdot h \cdot g^{-1} \cdot h^{-1}$.
\end{defn}

\begin{lem}{}{}
  If $g, h \in G$, then $[g, h] = e$ if and only if $gh = hg$.
\end{lem}

\begin{thmproof}[Proof (proposition).]
  We already saw the forward implication.

  If $h \in H$ and $k \in K$, then $[h, k] = (hkh^{-1})k^{-1} \in K$ since $K \trianglelefteq G$.
  But $[h, k] = h(kh^{-1}k^{-1}) \in H$ since $H \trianglelefteq G$.
  So $[h, k] \in H \cap K = \{e\}$ which implies $[h, k] = e$.
  Hence $hk = kh$, which completes the definition of an internal direct product.
\end{thmproof}

%---------------
\end{document}
%---------------
